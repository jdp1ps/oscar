(function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t():"function"==typeof define&&define.amd?define([],t):"object"==typeof exports?exports.periodselector=t():e.periodselector=t()})("undefined"!=typeof self?self:this,function(){return function(e){function t(r){if(n[r])return n[r].exports;var s=n[r]={i:r,l:!1,exports:{}};return e[r].call(s.exports,s,s.exports,t),s.l=!0,s.exports}var n={};return t.m=e,t.c=n,t.d=function(e,n,r){t.o(e,n)||Object.defineProperty(e,n,{configurable:!1,enumerable:!0,get:r})},t.n=function(e){var n=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(n,"a",n),n},t.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},t.p="/",t(t.s=1)}([function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=new RegExp(/([0-9]*)-([0-9]*)/);t.default={model:{prop:"period",event:"change"},data:function(){return{selectedYear:null,selectedMonth:null,middleYearSelector:null,showYearSelector:!1,showMonthSelector:!1,showMonth:!1,showYear:!1,defileYear:null}},props:{value:{default:""},months:{default:function(){return["Janvier","Février","Mars","Avril","Mai","Juin","Juillet","Août","Septembre","Octobre","Novembre","Décembre"]}},period:{default:null,required:!0},max:{default:null},min:{default:null}},computed:{displayedMonth:function(){if(this.period){var e=this.period.match(r);3==e.length&&parseInt(e[2]);return 3==e.length?this.months[parseInt(e[2])-1]:"INVALID"}return"MOIS"},displayedYear:function(){if(this.period){var e=this.period.match(r);return 3==e.length?e[1]:"INVALID"}return"ANNÉE"},displayedValue:function(){if(this.period){var e=this.period.match(r);return 3==e.length?this.months[parseInt(e[2])-1]+" "+e[1]:"INVALID!"}return"Indéfini"},selectableYear:function(){var e=(new Date).getFullYear();return this.defileYear?e=this.defileYear:this.selectedYear&&(e=this.selectedYear),this.yearAround(e)},maxYear:function(){if(this.max){var e=this.max.match(r);if(3!=e.length)return Number.MAX_SAFE_INTEGER;var t=parseInt(e[1]);return 1==parseInt(e[2])&&(t-=1),t}return Number.MAX_SAFE_INTEGER},maxMonth:function(){if(this.max&&this.selectedYear==this.maxYear){var e=this.max.match(r),t=e[1];e[2];return this.maxYear+1==t?13:3==e.length?e[2]-2:13}return 13},minYear:function(){if(this.min){var e=this.min.match(r),t=parseInt(e[1]);return 12==parseInt(e[2])&&(t+=1),t}return Number.MIN_SAFE_INTEGER},minMonth:function(){if(this.min){var e=this.min.match(r),t=parseInt(e[1]),n=parseInt(e[2]);return this.selectedYear>t?-1:n}return-1},selectableMonths:function(){return this.months}},methods:{handlerMouseLeave:function(){this.hideSelector()},handlerToggleSelector:function(){this.showYear=!this.showYear,this.showMonth=!1},handlerSelectYear:function(e){this.selectedYear=e,this.showMonth=!0,this.showYear=!1},handlerSelectMonth:function(e){this.selectedMonth=e+1;var t=null;if(this.selectedMonth&&this.selectedYear){t=this.selectedYear+"-"+(this.selectedMonth<10?"0"+this.selectedMonth:this.selectedMonth)}this.hideSelector(),this.$emit("change",t)},hideSelector:function(){this.showYear=!1,this.showMonth=!1},cleanUp:function(){this.$emit("change","")},today:function(){var e=new Date;this.$emit("change",e.getFullYear()+"-"+e.getMonth())},setDefileYear:function(e){var t;1==e?(t=this.selectableYear[this.selectableYear.length-1],t+=this.selectableYear.length/2):(t=this.selectableYear[0],t-=this.selectableYear.length/2),this.defileYear=t},yearAround:function(e){for(var t=[],n=e-6;n<e+6;n++)t.push(n);return t}},mounted:function(){var e=this;window&&window.addEventListener("click",function(t){e.hideSelector()})}}},function(e,t,n){e.exports=n(2)},function(e,t,n){"use strict";function r(e){n(3)}Object.defineProperty(t,"__esModule",{value:!0});var s=n(0),o=n.n(s);for(var a in s)"default"!==a&&function(e){n.d(t,e,function(){return s[e]})}(a);var i=n(5),l=n(4),c=r,u=l(o.a,i.a,!1,c,"data-v-f7e0dd9e",null);t.default=u.exports},function(e,t){},function(e,t){e.exports=function(e,t,n,r,s,o){var a,i=e=e||{},l=typeof e.default;"object"!==l&&"function"!==l||(a=e,i=e.default);var c="function"==typeof i?i.options:i;t&&(c.render=t.render,c.staticRenderFns=t.staticRenderFns,c._compiled=!0),n&&(c.functional=!0),s&&(c._scopeId=s);var u;if(o?(u=function(e){e=e||this.$vnode&&this.$vnode.ssrContext||this.parent&&this.parent.$vnode&&this.parent.$vnode.ssrContext,e||"undefined"==typeof __VUE_SSR_CONTEXT__||(e=__VUE_SSR_CONTEXT__),r&&r.call(this,e),e&&e._registeredComponents&&e._registeredComponents.add(o)},c._ssrRegister=u):r&&(u=r),u){var h=c.functional,d=h?c.render:c.beforeCreate;h?(c._injectStyles=u,c.render=function(e,t){return u.call(t),d(e,t)}):c.beforeCreate=d?[].concat(d,u):[u]}return{esModule:a,exports:i,options:c}}},function(e,t,n){"use strict";var r=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("span",{staticClass:"period-selector",class:{open:e.showYear||e.showMonth},on:{mouseleave:e.handlerMouseLeave}},[n("span",{staticClass:"visualizer",on:{click:function(t){return t.preventDefault(),t.stopPropagation(),e.handlerToggleSelector(t)}}},[n("i",{staticClass:"icon-calendar"}),e._v(" "),n("span",[e._v("\n            "+e._s(e.displayedValue)+"\n        ")]),e._v(" "),n("i",{staticClass:"icon-angle-down"})]),e._v(" "),e.showYear?n("span",{staticClass:"selector selector-year"},[n("span",{staticClass:"scroll-left scroll",on:{click:function(t){t.preventDefault(),t.stopPropagation(),e.setDefileYear(-1)}}},[n("i",{staticClass:"icon-angle-left"})]),e._v(" "),n("span",{staticClass:"selector-content"},[e._l(e.selectableYear,function(t){return n("span",{class:{selected:t==e.selectedYear,disabled:t>e.maxYear||t<e.minYear},on:{click:function(n){n.preventDefault(),n.stopPropagation(),e.handlerSelectYear(t)}}},[e._v("\n                "+e._s(t)+"\n            ")])}),e._v(" "),n("nav",{staticClass:"selector-options"},[n("a",{staticClass:"selector-option",on:{click:e.cleanUp}},[e._v("Vider")]),e._v(" "),n("a",{staticClass:"selector-option",on:{click:e.today}},[e._v("Période en cours")])])],2),e._v(" "),n("span",{staticClass:"scroll-right scroll",on:{click:function(t){t.preventDefault(),t.stopPropagation(),e.setDefileYear(1)}}},[n("i",{staticClass:"icon-angle-right"})])]):e._e(),e._v(" "),e.showMonth?n("span",{staticClass:"selector selector-month"},[n("span",{staticClass:"selector-content"},[e._l(e.selectableMonths,function(t,r){return n("span",{class:{selected:r==e.selectedMonth-1,disabled:r>e.maxMonth||r<e.minMonth},on:{click:function(t){t.preventDefault(),t.stopPropagation(),e.handlerSelectMonth(r)}}},[e._v("\n                "+e._s(t)+"\n            ")])}),e._v(" "),n("nav",{staticClass:"selector-options"},[n("a",{staticClass:"selector-option",on:{click:e.cleanUp}},[e._v("Vider")]),e._v(" "),n("a",{staticClass:"selector-option",on:{click:e.today}},[e._v("Période en cours")])])],2)]):e._e()])},s=[],o={render:r,staticRenderFns:s};t.a=o}])});
//# sourceMappingURL=PeriodSelector.js.map