(function(t,e){"object"==typeof exports&&"object"==typeof module?module.exports=e():"function"==typeof define&&define.amd?define([],e):"object"==typeof exports?exports.timesheetmonthdaydetails=e():t.timesheetmonthdaydetails=e()})("undefined"!=typeof self?self:this,function(){return function(t){function e(a){if(s[a])return s[a].exports;var n=s[a]={i:a,l:!1,exports:{}};return t[a].call(n.exports,n,n.exports,e),n.l=!0,n.exports}var s={};return e.m=t,e.c=s,e.d=function(t,s,a){e.o(t,s)||Object.defineProperty(t,s,{configurable:!1,enumerable:!0,get:a})},e.n=function(t){var s=t&&t.__esModule?function(){return t.default}:function(){return t};return e.d(s,"a",s),s},e.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},e.p="/",e(e.s=1)}([function(t,e,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={props:{workPackages:{require:!0},day:{require:!0}},data:function(){return{formAdd:!1,debug:!1}},filters:{heures:function(t){var e=Math.floor(t),s=60*(t-e);return s<10&&(s="0"+s),console.log(t," => ",e,"h",s),e+":"+s}},computed:{isExceed:function(){return this.total>this.day.dayLength},totalWP:function(){var t=0;return this.day.declarations.forEach(function(e){t+=e.duration}),t},total:function(){return this.enseignements+this.abs+this.learn+this.other+this.totalWP},enseignements:function(){var t=0;return this.day.teaching.forEach(function(e){t+=e.duration}),t},abs:function(){var t=0;return this.day.vacations.forEach(function(e){t+=e.duration}),t},learn:function(){var t=0;return this.day.training.forEach(function(e){t+=e.duration}),t},other:function(){var t=0;return this.day.infos.forEach(function(e){t+=e.duration}),t}},methods:{addToWorkpackage:function(t){this.formAdd=!0}}}},function(t,e,s){t.exports=s(2)},function(t,e,s){"use strict";function a(t){s(3)}Object.defineProperty(e,"__esModule",{value:!0});var n=s(0),i=s.n(n);for(var r in n)"default"!==r&&function(t){s.d(e,t,function(){return n[t]})}(r);var o=s(5),c=s(4),l=a,u=c(i.a,o.a,!1,l,"data-v-11869f79",null);e.default=u.exports},function(t,e){},function(t,e){t.exports=function(t,e,s,a,n,i){var r,o=t=t||{},c=typeof t.default;"object"!==c&&"function"!==c||(r=t,o=t.default);var l="function"==typeof o?o.options:o;e&&(l.render=e.render,l.staticRenderFns=e.staticRenderFns,l._compiled=!0),s&&(l.functional=!0),n&&(l._scopeId=n);var u;if(i?(u=function(t){t=t||this.$vnode&&this.$vnode.ssrContext||this.parent&&this.parent.$vnode&&this.parent.$vnode.ssrContext,t||"undefined"==typeof __VUE_SSR_CONTEXT__||(t=__VUE_SSR_CONTEXT__),a&&a.call(this,t),t&&t._registeredComponents&&t._registeredComponents.add(i)},l._ssrRegister=u):a&&(u=a),u){var d=l.functional,_=d?l.render:l.beforeCreate;d?(l._injectStyles=u,l.render=function(t,e){return u.call(e),_(t,e)}):l.beforeCreate=_?[].concat(_,u):[u]}return{esModule:r,exports:o,options:l}}},function(t,e,s){"use strict";var a=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"day-details",class:{locked:t.day.locked}},[s("h2",[t._v("Déclarer des heures")]),t._v(" "),t.day.locked?s("div",{staticClass:"alert alert-danger"},[t._v("\n        "+t._s(t.day.lockedReason)+"\n    ")]):s("div",[s("div",{staticClass:"dropdown"},[t._m(0),t._v(" "),s("ul",{staticClass:"dropdown-menu",attrs:{"aria-labelledby":"dropdownMenu1"}},[t._l(t.workPackages,function(e){return s("li",[s("a",{attrs:{href:"#"},on:{click:function(s){s.preventDefault(),t.addToWorkpackage(e)}}},[s("abbr",{attrs:{title:e.activity}},[t._v("["+t._s(e.acronym)+"]")]),t._v(" "),s("i",{staticClass:"icon-angle-right"}),t._v(" "),s("strong",[t._v(t._s(e.code))]),t._v(" "),s("em",[t._v(t._s(e.label))]),s("br"),t._v(" "),s("small",{staticClass:"text-light"},[t._v(t._s(e.activity))])])])}),t._v(" "),s("li",{staticClass:"divider",attrs:{role:"separator"}}),t._v(" "),t._m(1),t._v(" "),t._m(2),t._v(" "),t._m(3)],2)]),t._v(" "),t.formAdd?s("div",[s("div",{},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.addHours,expression:"addHours"}],staticClass:"form-control lg",attrs:{type:"text",placeholder:"Indiquez les heures réalisées"},domProps:{value:t.addHours},on:{input:function(e){e.target.composing||(t.addHours=e.target.value)}}})])]):t._e()]),t._v(" "),s("section",[t._m(4),t._v(" "),t._l(t.day.declarations,function(e){return s("article",{staticClass:"card wp-duration"},[s("div",{staticClass:"infos"},[s("abbr",{attrs:{title:e.project}},[t._v(t._s(e.acronym))]),t._v(" "),s("i",{staticClass:"icon-angle-right"}),t._v(" "+t._s(e.wpCode)),s("br"),t._v(" "),s("small",[s("i",{staticClass:"icon-cubes"}),t._v(" "+t._s(e.label))])]),t._v(" "),s("div",{staticClass:"total"},[t._v("\n                "+t._s(t._f("heures")(e.duration))+"\n                "),s("em",[t._v("heure(s)")])]),t._v(" "),t._m(5,!0)])}),t._v(" "),s("article",{staticClass:"wp-duration"},[s("h3",[s("i",{staticClass:"icon-graduation-cap"}),t._v(" Enseignements\n                "),s("a",{attrs:{href:"#"},on:{click:function(e){t.addDuration("teaching")}}},[s("i",{staticClass:" icon-cw-outline"})])]),t._v(" "),s("div",{staticClass:"total"},[t._v(t._s(t._f("heures")(t.enseignements))+" "),s("em",[t._v("heure(s)")])]),t._v(" "),s("div",{staticClass:"left"},[t._v("\n                 \n            ")])]),t._v(" "),s("article",{staticClass:"wp-duration"},[s("h3",[s("i",{staticClass:"icon-leaf-1"}),t._v(" Congès "),s("br"),t._v(" "),s("small",[t._v("Absence, congès, RTT")]),t._v(" "),s("a",{attrs:{href:"#"},on:{click:function(e){t.addDuration("vacation")}}},[s("i",{staticClass:" icon-cw-outline"})])]),t._v(" "),s("div",{staticClass:"total"},[t._v(t._s(t._f("heures")(t.abs))+" "),s("em",[t._v("heure(s)")])]),t._v(" "),t._m(6)]),t._v(" "),s("article",{staticClass:"wp-duration"},[s("h3",[s("i",{staticClass:"icon-lightbulb"}),t._v(" Formation "),s("a",{attrs:{href:"#"},on:{click:function(e){t.addDuration("learning")}}},[s("i",{staticClass:" icon-cw-outline"})]),s("br"),t._v(" "),s("small",[t._v("Période de formation")])]),t._v(" "),s("div",{staticClass:"total"},[t._v(t._s(t._f("heures")(t.learn))+" "),s("em",[t._v("heure(s)")])]),t._v(" "),t._m(7)]),t._v(" "),s("article",{staticClass:"wp-duration"},[t._m(8),t._v(" "),s("div",{staticClass:"total"},[t._v(t._s(t._f("heures")(t.other))+" "),s("em",[t._v("heure(s)")])]),t._v(" "),t._m(9)]),t._v(" "),s("article",{staticClass:"wp-duration"},[s("span",[t._v("total")]),t._v(" "),s("div",{staticClass:"total",class:{"text-danger":t.isExceed}},[t._v("\n                "+t._s(t._f("heures")(t.total))+" / "+t._s(t.day.dayLength)+"\n                "),s("em",[t._v("heure(s)")])]),t._v(" "),s("div",{staticClass:"left"},[t._v("\n                 \n            ")])]),t._v(" "),t.total>t.day.dayLength?s("div",{staticClass:"alert-danger alert"},[t._v("\n            Attention, le cumul des heures déclarées exéde la limite retenue dans le cadre des projets soumis aux déclarations.\n        ")]):t._e()],2),t._v(" "),s("a",{attrs:{href:"#"},on:{click:function(e){t.debug=!t.debug}}},[s("i",{staticClass:"icon-bug"}),t._v(" debug")]),t._v(" "),s("pre",{directives:[{name:"show",rawName:"v-show",value:t.debug,expression:"debug"}]},[t._v(t._s(t.day))])])},n=[function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("button",{staticClass:"btn btn-default dropdown-toggle",attrs:{type:"button",id:"dropdownMenu1","data-toggle":"dropdown","aria-haspopup":"true","aria-expanded":"true"}},[s("i",{staticClass:"icon-plus-circled"}),t._v("\n                Déclarer des heures\n                "),s("span",{staticClass:"caret"})])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("li",[s("a",{attrs:{href:"#"}},[t._v("Je suis en congès")])])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("li",[s("a",{attrs:{href:"#"}},[t._v("Je suis en formation")])])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("li",[s("a",{attrs:{href:"#"}},[t._v("J'ai donné des enseignements")])])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("h3",[s("i",{staticClass:"icon-archive"}),t._v("\n            Heures identifiées sur des lots")])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"left"},[s("i",{staticClass:"icon-trash"}),t._v(" "),s("i",{staticClass:"icon-pencil"}),t._v(" "),s("i",{staticClass:"icon-ok-circled"})])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"left"},[s("i",{staticClass:"icon-trash"}),t._v(" "),s("i",{staticClass:"icon-pencil"}),t._v(" "),s("i",{staticClass:"icon-ok-circled"})])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"left"},[s("i",{staticClass:"icon-trash"}),t._v(" "),s("i",{staticClass:"icon-pencil"}),t._v(" "),s("i",{staticClass:"icon-ok-circled"})])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("h3",[s("i",{staticClass:"icon-pin-outline"}),t._v(" Autre")])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"left"},[s("i",{staticClass:"icon-trash"}),t._v(" "),s("i",{staticClass:"icon-pencil"}),t._v(" "),s("i",{staticClass:"icon-ok-circled"})])}],i={render:a,staticRenderFns:n};e.a=i}])});
//# sourceMappingURL=TimesheetMonthDayDetails.js.map