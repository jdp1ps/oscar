(function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t():"function"==typeof define&&define.amd?define([],t):"object"==typeof exports?exports.ActivitiesExport=t():e.ActivitiesExport=t()})("undefined"!=typeof self?self:this,function(){return function(e){function t(n){if(s[n])return s[n].exports;var i=s[n]={i:n,l:!1,exports:{}};return e[n].call(i.exports,i,i.exports,t),i.l=!0,i.exports}var s={};return t.m=e,t.c=s,t.d=function(e,s,n){t.o(e,s)||Object.defineProperty(e,s,{configurable:!1,enumerable:!0,get:n})},t.n=function(e){var s=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(s,"a",s),s},t.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},t.p="/",t(t.s=1)}([function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={props:{ids:{default:[]},fields:{default:[]},urlPost:{required:!0}},data:function(){return{selectedFields:[],showConfiguration:!1,switchSelect:!0}},computed:{fieldsUI:function(){var e=this,t=[];for(var s in this.fields)this.fields.hasOwnProperty(s)&&(t[s]=[],this.fields[s].forEach(function(n){t[s].push({label:n,selected:e.selectedFields.indexOf(n)>-1})}));return t}},methods:{selectSection:function(e){var t=this,s=!0;e.forEach(function(e){!1===e.selected&&(s=!1)}),s=!s,!1===s?e.forEach(function(e){t.selectedFields.indexOf(e.label)>-1&&t.selectedFields.splice(t.selectedFields.indexOf(e.label),1)}):e.forEach(function(e){t.selectedFields.indexOf(e.label)<0&&t.selectedFields.push(e.label)})},selectAll:function(){var e=[];if(!0===this.switchSelect)for(var t in this.fields)this.fields.hasOwnProperty(t)&&this.fields[t].forEach(function(t){e.push(t)});this.switchSelect=!this.switchSelect,this.selectedFields=e},toggleField:function(e){this.selectedFields.indexOf(e)>-1?this.selectedFields.splice(this.selectedFields.indexOf(e),1):this.selectedFields.push(e)}},created:function(){window.localStorage&&window.localStorage.getItem("export_fields")?this.selectedFields=JSON.parse(window.localStorage.getItem("export_fields")):this.selectedFields=[]},watch:{selectedFields:function(e){window.localStorage&&window.localStorage.setItem("export_fields",JSON.stringify(this.selectedFields))}}}},function(e,t,s){e.exports=s(2)},function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=s(0),i=s.n(n);for(var o in n)"default"!==o&&function(e){s.d(t,e,function(){return n[e]})}(o);var l=s(4),c=s(3),a=c(i.a,l.a,!1,null,null,null);t.default=a.exports},function(e,t){e.exports=function(e,t,s,n,i,o){var l,c=e=e||{},a=typeof e.default;"object"!==a&&"function"!==a||(l=e,c=e.default);var r="function"==typeof c?c.options:c;t&&(r.render=t.render,r.staticRenderFns=t.staticRenderFns,r._compiled=!0),s&&(r.functional=!0),i&&(r._scopeId=i);var d;if(o?(d=function(e){e=e||this.$vnode&&this.$vnode.ssrContext||this.parent&&this.parent.$vnode&&this.parent.$vnode.ssrContext,e||"undefined"==typeof __VUE_SSR_CONTEXT__||(e=__VUE_SSR_CONTEXT__),n&&n.call(this,e),e&&e._registeredComponents&&e._registeredComponents.add(o)},r._ssrRegister=d):n&&(d=n),d){var u=r.functional,f=u?r.render:r.beforeCreate;u?(r._injectStyles=d,r.render=function(e,t){return d.call(t),f(e,t)}):r.beforeCreate=f?[].concat(f,d):[d]}return{esModule:l,exports:c,options:r}}},function(e,t,s){"use strict";var n=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("form",{attrs:{action:e.urlPost,method:"POST"}},[s("input",{attrs:{type:"hidden",name:"ids"},domProps:{value:e.ids}}),e._v(" "),s("div",{staticClass:"btn-group"},[e._m(0),e._v(" "),e._m(1),e._v(" "),s("button",{staticClass:"btn btn-xs btn-default",attrs:{type:"button"},on:{click:function(t){e.showConfiguration=!e.showConfiguration}}},[s("i",{staticClass:"icon-cog"}),e._v("Configurer")])]),e._v(" "),s("section",{directives:[{name:"show",rawName:"v-show",value:e.showConfiguration,expression:"showConfiguration"}],staticClass:"overlay"},[s("div",{staticClass:"overlay-content"},[s("h2",[e._v("Champs à exporter")]),e._v(" "),s("input",{attrs:{type:"hidden",name:"fields"},domProps:{value:e.selectedFields}}),e._v(" "),s("hr"),e._v(" "),s("h3",{on:{click:function(t){e.selectSection(e.fieldsUI.core)}}},[s("i",{staticClass:"icon-cube"}),e._v("Champs de base")]),e._v(" "),s("div",{staticClass:"cols"},e._l(e.fieldsUI.core,function(t,n){return s("label",{staticClass:"col3"},[s("input",{attrs:{type:"checkbox"},domProps:{checked:t.selected},on:{click:function(s){e.toggleField(t.label)}}}),e._v("\n                    "+e._s(t.label)+"\n                ")])})),e._v(" "),s("h3",{on:{click:function(t){e.selectSection(e.fieldsUI.organizations)}}},[s("i",{staticClass:"icon-building-filled"}),e._v("Organisations")]),e._v(" "),s("div",{staticClass:"cols"},e._l(e.fieldsUI.organizations,function(t,n){return s("label",{staticClass:"col3"},[s("input",{attrs:{type:"checkbox"},domProps:{checked:t.selected},on:{click:function(s){e.toggleField(t.label)}}}),e._v("\n                    "+e._s(t.label)+"\n                ")])})),e._v(" "),s("h3",{on:{click:function(t){e.selectSection(e.fieldsUI.persons)}}},[s("i",{staticClass:"icon-user"}),e._v("Membres")]),e._v(" "),s("div",{staticClass:"cols"},e._l(e.fieldsUI.persons,function(t,n){return s("label",{staticClass:"col3"},[s("input",{attrs:{type:"checkbox"},domProps:{checked:t.selected},on:{click:function(s){e.toggleField(t.label)}}}),e._v("\n                    "+e._s(t.label)+"\n                ")])})),e._v(" "),s("h3",{on:{click:function(t){e.selectSection(e.fieldsUI.milestones)}}},[s("i",{staticClass:"icon-calendar"}),e._v("Jalons")]),e._v(" "),s("div",{staticClass:"cols"},e._l(e.fieldsUI.milestones,function(t,n){return s("label",{staticClass:"col3"},[s("input",{attrs:{type:"checkbox"},domProps:{checked:t.selected},on:{click:function(s){e.toggleField(t.label)}}}),e._v("\n                    "+e._s(t.label)+"\n                ")])})),e._v(" "),s("hr"),e._v(" "),s("h3",{on:{click:function(t){e.selectSection(e.fieldsUI.numerotation)}}},[s("i",{staticClass:"icon-calendar"}),e._v("Numérotations")]),e._v(" "),s("div",{staticClass:"cols"},e._l(e.fieldsUI.numerotation,function(t,n){return s("label",{staticClass:"col3"},[s("input",{attrs:{type:"checkbox"},domProps:{checked:t.selected},on:{click:function(s){e.toggleField(t.label)}}}),e._v("\n                    "+e._s(t.label)+"\n                ")])})),e._v(" "),s("hr"),e._v(" "),s("nav",[s("a",{staticClass:"btn btn-default",on:{click:function(t){e.selectAll()}}},[e.switchSelect?s("small",[e._v("Sélectionner tous les champs")]):s("small",[e._v("Déselectionner tous les champs")])]),e._v(" "),s("button",{staticClass:"btn btn-default",attrs:{type:"button"},on:{click:function(t){e.showConfiguration=!1}}},[e._v("Fermer")]),e._v(" "),s("button",{staticClass:"btn btn-primary",attrs:{type:"submit"},on:{click:function(t){e.showConfiguration=!1}}},[e._v("Exporter")])])])])])},i=[function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("select",{staticClass:"form-control xs",attrs:{name:"format"}},[s("option",{attrs:{value:"xls",selected:""}},[e._v("XLS (Excel)")]),e._v(" "),s("option",{attrs:{value:"csv"}},[e._v("CSV (Comma Separated Value)")])])},function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("button",{staticClass:"btn btn-xs btn-default",attrs:{type:"submit"}},[s("i",{staticClass:"icon-download-outline"}),e._v("Télécharger")])}],o={render:n,staticRenderFns:i};t.a=o}])});
//# sourceMappingURL=ActivitiesExport.js.map