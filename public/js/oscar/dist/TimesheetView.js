(function(t,e){"object"==typeof exports&&"object"==typeof module?module.exports=e():"function"==typeof define&&define.amd?define([],e):"object"==typeof exports?exports.timesheetview=e():t.timesheetview=e()})("undefined"!=typeof self?self:this,function(){return function(t){function e(s){if(n[s])return n[s].exports;var r=n[s]={i:s,l:!1,exports:{}};return t[s].call(r.exports,r,r.exports,e),r.l=!0,r.exports}var n={};return e.m=t,e.c=n,e.d=function(t,n,s){e.o(t,n)||Object.defineProperty(t,n,{configurable:!1,enumerable:!0,get:s})},e.n=function(t){var n=t&&t.__esModule?function(){return t.default}:function(){return t};return e.d(n,"a",n),n},e.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},e.p="/",e(e.s=1)}([function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={props:["withOwner"],data:function(){return store},computed:{colspan:function(){return this.workPackageIndex.length},structuredDatas:function(){return store.timesheetDatas()}},methods:{getBase64CSV:function(t){var e=[],n=[t.label].concat(t.wps).concat(["comentaires","total"]);e.push(n);for(var s in t.months)if(t.months.hasOwnProperty(s)){var r;(function(){var n=t.months[s];for(r in n.days)n.days.hasOwnProperty(r)&&function(){var t=n.days[r],s=[r];t.wps.forEach(function(t){s.push(t.toString().replace(".",","))}),s.push(t.comments),s.push(t.total.toString().replace(".",",")),e.push(s)}();var a=["TOTAL pour "+s];n.wps.forEach(function(t){a.push(t.toString().replace(".",","))}),a.push(""),a.push(n.total.toString().replace(".",",")),e.push(a)})()}var a=["TOTAL"];t.totalWP.forEach(function(t){a.push(t.toString().replace(".",","))}),a.push(""),a.push(t.total.toString().replace(".",",")),e.push(a);var o=Papa.unparse({data:e,quotes:!0,delimiter:",",newline:"\r\n"});return"data:application/octet-stream;base64,"+btoa(unescape(encodeURIComponent(o)))}}}},function(t,e,n){t.exports=n(2)},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var s=n(0),r=n.n(s);for(var a in s)"default"!==a&&function(t){n.d(e,t,function(){return s[t]})}(a);var o=n(4),i=n(3),c=i(r.a,o.a,!1,null,null,null);e.default=c.exports},function(t,e){t.exports=function(t,e,n,s,r,a){var o,i=t=t||{},c=typeof t.default;"object"!==c&&"function"!==c||(o=t,i=t.default);var l="function"==typeof i?i.options:i;e&&(l.render=e.render,l.staticRenderFns=e.staticRenderFns,l._compiled=!0),n&&(l.functional=!0),r&&(l._scopeId=r);var u;if(a?(u=function(t){t=t||this.$vnode&&this.$vnode.ssrContext||this.parent&&this.parent.$vnode&&this.parent.$vnode.ssrContext,t||"undefined"==typeof __VUE_SSR_CONTEXT__||(t=__VUE_SSR_CONTEXT__),s&&s.call(this,t),t&&t._registeredComponents&&t._registeredComponents.add(a)},l._ssrRegister=u):s&&(u=s),u){var _=l.functional,f=_?l.render:l.beforeCreate;_?(l._injectStyles=u,l.render=function(t,e){return u.call(e),f(t,e)}):l.beforeCreate=f?[].concat(f,u):[u]}return{esModule:o,exports:i,options:l}}},function(t,e,n){"use strict";var s=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"timesheet"},[t._m(0),t._v(" "),t._m(1),t._v(" "),t._l(t.structuredDatas,function(e){return n("section",[n("h2",[n("i",{staticClass:"icon-cube"}),t._v("\n                Déclarations validées pour "),n("strong",[t._v(t._s(e.label))])]),t._v(" "),t._l(e.persons,function(s){return n("section",[n("table",{staticClass:"table table-bordered table-timesheet"},[n("thead",[n("tr",[n("th",[t._v(t._s(s.label))]),t._v(" "),t._l(e.wps,function(e){return n("th",[t._v(t._s(e))])}),t._v(" "),n("th",{staticClass:"time"},[t._v("Commentaire(s)")]),t._v(" "),n("th",{staticClass:"time"},[t._v("Total")])],2)]),t._v(" "),t._l(s.months,function(e,s){return n("tbody",{staticClass:"person-tbody"},[n("tr",{staticClass:"header-month"},[n("th",{attrs:{colspan:e.wps.length+3}},[t._v(t._s(s))])]),t._v(" "),t._l(e.days,function(e,s){return n("tr",{staticClass:"data-day"},[n("th",[t._v(t._s(s))]),t._v(" "),t._l(e.wps,function(e){return n("td",{staticClass:"time"},[t._v(t._s(e))])}),t._v(" "),n("td",{staticClass:"timesheet-comment"},[t._v(t._s(e.comments))]),t._v(" "),n("th",{staticClass:"time"},[t._v(t._s(e.total))])],2)}),t._v(" "),n("tr",{staticClass:"subtotal"},[n("th",[t._v(" ")]),t._v(" "),t._l(e.wps,function(e){return n("td",{staticClass:"time"},[t._v(t._s(e))])}),t._v(" "),n("td",[t._v(" ")]),t._v(" "),n("th",{staticClass:"time"},[t._v(t._s(e.total))])],2)],2)}),t._v(" "),n("tfoot",{staticClass:"person-tfoot"},[n("tr",[n("th",[t._v("Total")]),t._v(" "),t._l(s.totalWP,function(e){return n("th",{staticClass:"time"},[t._v(t._s(e))])}),t._v(" "),n("td",[t._v(" ")]),t._v(" "),n("th",{staticClass:"time"},[t._v(t._s(s.total))])],2)])],2),t._v(" "),n("nav",{staticClass:"text-right"},[n("a",{staticClass:"btn btn-primary btn-xs",attrs:{href:t.getBase64CSV(s),download:"Feuille-de-temps"+s.label+".csv"}},[n("i",{staticClass:"icon-download-outline"}),t._v("\n                        Télécharger le CSV\n                    ")])])])})],2)})],2)},r=[function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("h1",[n("i",{staticClass:"icon-file-excel"}),t._v("Feuille de temps")])},function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("p",{staticClass:"help-block"},[t._v("Seul les déclarations "),n("strong",[t._v("validées")]),t._v(" sont affichées ici.")])}],a={render:s,staticRenderFns:r};e.a=a}])});
//# sourceMappingURL=TimesheetView.js.map