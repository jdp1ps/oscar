(function(t,e){"object"==typeof exports&&"object"==typeof module?module.exports=e():"function"==typeof define&&define.amd?define([],e):"object"==typeof exports?exports.TypeDocument=e():t.TypeDocument=e()})("undefined"!=typeof self?self:this,function(){return function(t){function e(o){if(n[o])return n[o].exports;var s=n[o]={i:o,l:!1,exports:{}};return t[o].call(s.exports,s,s.exports,e),s.l=!0,s.exports}var n={};return e.m=t,e.c=n,e.d=function(t,n,o){e.o(t,n)||Object.defineProperty(t,n,{configurable:!1,enumerable:!0,get:o})},e.n=function(t){var n=t&&t.__esModule?function(){return t.default}:function(){return t};return e.d(n,"a",n),n},e.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},e.p="/",e(e.s=1)}([function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={props:{url:{required:!0},manage:!1,bootbox:{required:!0}},data:function(){return{types:[],loadingMsg:null,form:null}},computed:{loading:function(){return null!=this.loadingMsg}},methods:{formNew:function(){this.form={label:"",description:""}},save:function(){var t=this,e=new FormData;e.append("label",this.form.label),e.append("description",this.form.description),this.form.id?(this.loadingMsg="Mise à jour du type de document...",e.append("typedocumentid",this.form.id),this.$http.put(this.url+"",e).then(function(e){t.fetch()},function(t){flashMessage("error",t.body)}).then(function(){t.loadingMsg=null,t.form=null})):(this.loadingMsg="Ajout d'un nouveau type de document...",this.$http.post(this.url,e).then(function(e){t.fetch()},function(t){flashMessage("error",t.body)}).then(function(){t.loadingMsg=null,t.form=null}))},remove:function(t){var e=this;this.bootbox.confirm("Êtes-vous sûr de supprimer : "+t.label+"?",function(n){n&&(e.loadingMsg="Suppression du type de document...",e.$http.delete(e.url+"?typedocumentid="+t.id).then(function(t){e.fetch()},function(t){flashMessage("error",t.body)}).then(function(){e.loadingMsg=null,e.form=null}))})},fetch:function(){var t=this;this.loadingMsg="Chargement des types de documents",this.$http.get(this.url).then(function(e){t.types=e.body},function(t){flashMessage("error",t.body)}).then(function(){return t.loadingMsg=null})}},created:function(){this.fetch()}}},function(t,e,n){t.exports=n(2)},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=n(0),s=n.n(o);for(var r in o)"default"!==r&&function(t){n.d(e,t,function(){return o[t]})}(r);var i=n(4),a=n(3),u=a(s.a,i.a,!1,null,null,null);e.default=u.exports},function(t,e){t.exports=function(t,e,n,o,s,r){var i,a=t=t||{},u=typeof t.default;"object"!==u&&"function"!==u||(i=t,a=t.default);var l="function"==typeof a?a.options:a;e&&(l.render=e.render,l.staticRenderFns=e.staticRenderFns,l._compiled=!0),n&&(l.functional=!0),s&&(l._scopeId=s);var c;if(r?(c=function(t){t=t||this.$vnode&&this.$vnode.ssrContext||this.parent&&this.parent.$vnode&&this.parent.$vnode.ssrContext,t||"undefined"==typeof __VUE_SSR_CONTEXT__||(t=__VUE_SSR_CONTEXT__),o&&o.call(this,t),t&&t._registeredComponents&&t._registeredComponents.add(r)},l._ssrRegister=c):o&&(c=o),c){var f=l.functional,d=f?l.render:l.beforeCreate;f?(l._injectStyles=c,l.render=function(t,e){return c.call(e),d(t,e)}):l.beforeCreate=d?[].concat(d,c):[c]}return{esModule:i,exports:a,options:l}}},function(t,e,n){"use strict";var o=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("section",[t.loading?n("div",{staticClass:"vue-loader"},[n("span",[t._v(" "+t._s(t.loadingMsg))])]):t._e(),t._v(" "),n("transition",{attrs:{name:"popup"}},[t.form?n("div",{staticClass:"form-wrapper"},[n("form",{staticClass:"container oscar-form",attrs:{action:""},on:{submit:function(e){return e.preventDefault(),t.save(e)}}},[n("header",[n("h1",[t.form-t.id?n("span",[t._v("Modification de "),n("strong",[t._v(t._s(t.form.label))])]):n("span",[t._v("Nouveau type de documents")])])]),t._v(" "),n("div",{staticClass:"form-group"},[n("label",[t._v("Nom du type de document")]),t._v(" "),n("input",{directives:[{name:"model",rawName:"v-model",value:t.form.label,expression:"form.label"}],staticClass:"form-control",attrs:{id:"typedoc_label",type:"text",name:"label"},domProps:{value:t.form.label},on:{input:function(e){e.target.composing||t.$set(t.form,"label",e.target.value)}}})]),t._v(" "),n("footer",{staticClass:"buttons-bar"},[n("div",{staticClass:"btn-group"},[n("button",{staticClass:"btn btn-primary",attrs:{type:"submit"}},[n("i",{staticClass:"icon-floppy"}),t._v("\n                            Enregistrer\n                        ")]),t._v(" "),n("button",{staticClass:"btn btn-default",attrs:{type:"submit"},on:{click:function(e){t.form=null}}},[n("i",{staticClass:"icon-floppy"}),t._v("\n                            Annuler\n                        ")])])])])]):t._e()]),t._v(" "),t._l(t.types,function(e){return n("article",{staticClass:"card xs"},[n("h1",{staticClass:"card-title"},[n("span",[t._v("\n                    "+t._s(e.label)+"\n                ")])]),t._v(" "),t.manage?n("nav",{staticClass:"card-footer"},[n("button",{staticClass:"btn btn-xs btn-primary",on:{click:function(n){t.form=JSON.parse(JSON.stringify(e))}}},[n("i",{staticClass:"icon-pencil"}),t._v("\n                Éditer\n            ")]),t._v(" "),n("button",{staticClass:"btn btn-xs btn-default",on:{click:function(n){t.remove(e)}}},[n("i",{staticClass:"icon-trash"}),t._v("\n                Supprimer\n            ")])]):t._e()])}),t._v(" "),t.manage?n("button",{staticClass:"btn btn-primary",on:{click:t.formNew}},[n("i",{staticClass:"icon-circled-plus"}),t._v("\n        Ajouter\n    ")]):t._e()],2)},s=[],r={render:o,staticRenderFns:s};e.a=r}])});
//# sourceMappingURL=TypeDocument.js.map