(function(t,i){"object"==typeof exports&&"object"==typeof module?module.exports=i():"function"==typeof define&&define.amd?define([],i):"object"==typeof exports?exports.ValidationActivityVue=i():t.ValidationActivityVue=i()})("undefined"!=typeof self?self:this,function(){return function(t){function i(a){if(n[a])return n[a].exports;var s=n[a]={i:a,l:!1,exports:{}};return t[a].call(s.exports,s,s.exports,i),s.l=!0,s.exports}var n={};return i.m=t,i.c=n,i.d=function(t,n,a){i.o(t,n)||Object.defineProperty(t,n,{configurable:!1,enumerable:!0,get:a})},i.n=function(t){var n=t&&t.__esModule?function(){return t.default}:function(){return t};return i.d(n,"a",n),n},i.o=function(t,i){return Object.prototype.hasOwnProperty.call(t,i)},i.p="/",i(i.s=1)}([function(t,i,n){"use strict";Object.defineProperty(i,"__esModule",{value:!0}),i.default={props:{days:{default:31},bootbox:{required:!0},periods:{default:{}}},computed:{nbrDays:function(){for(var t=[],i=1;i<=this.days;i++)i<10?t.push("0"+i):t.push(""+i);return t}},methods:{sendValidationPrj:function(t){var i=this;console.log("Validation de la période",t),this.bootbox.confirm("Confirmer la validation de la décaration pour cette période ?",function(n){n&&i.send("valid-prj",t)})},sendValidationSci:function(t){var i=this;console.log("VALID ",t),this.bootbox.confirm("Confirmer la validation scientifique de la décaration pour cette période ?",function(n){n&&i.send("valid-sci",t)})},sendValidationAdm:function(t){var i=this;this.bootbox.confirm("Confirmer la validation administrative de la décaration pour cette période ?",function(n){n&&i.send("valid-adm",t)})},send:function(t,i){var n=this,a=new FormData;a.append("action",t),a.append("validationperiod_id",i),this.$http.post("",a).then(function(t){console.log("OK",t),document.location.reload()},function(t){n.bootbox.alert("ERREUR : "+t.body),console.log("KO",t)}).then(function(t){})}},data:function(){return{foo:"default"}}}},function(t,i,n){t.exports=n(2)},function(t,i,n){"use strict";function a(t){n(3)}Object.defineProperty(i,"__esModule",{value:!0});var s=n(0),e=n.n(s);for(var o in s)"default"!==o&&function(t){n.d(i,t,function(){return s[t]})}(o);var c=n(5),r=n(4),d=a,l=r(e.a,c.a,!1,d,null,null);i.default=l.exports},function(t,i){},function(t,i){t.exports=function(t,i,n,a,s,e){var o,c=t=t||{},r=typeof t.default;"object"!==r&&"function"!==r||(o=t,c=t.default);var d="function"==typeof c?c.options:c;i&&(d.render=i.render,d.staticRenderFns=i.staticRenderFns,d._compiled=!0),n&&(d.functional=!0),s&&(d._scopeId=s);var l;if(e?(l=function(t){t=t||this.$vnode&&this.$vnode.ssrContext||this.parent&&this.parent.$vnode&&this.parent.$vnode.ssrContext,t||"undefined"==typeof __VUE_SSR_CONTEXT__||(t=__VUE_SSR_CONTEXT__),a&&a.call(this,t),t&&t._registeredComponents&&t._registeredComponents.add(e)},d._ssrRegister=l):a&&(l=a),l){var v=d.functional,u=v?d.render:d.beforeCreate;v?(d._injectStyles=l,d.render=function(t,i){return l.call(i),u(t,i)}):d.beforeCreate=u?[].concat(u,l):[l]}return{esModule:o,exports:c,options:d}}},function(t,i,n){"use strict";var a=function(){var t=this,i=t.$createElement,n=t._self._c||i;return n("section",[t.periods?t._l(t.periods,function(i,a){return n("section",{staticClass:"period"},[n("h2",[t._v(t._s(a))]),t._v(" "),t._l(i.main,function(a){return n("section",{staticClass:"main"},[n("h3",[n("strong",[t._v(t._s(a.OscarId))]),t._v(" "),n("abbr",{attrs:{title:""}},[t._v(t._s(a.acronym))]),t._v("\n                "+t._s(a.label)+"\n            ")]),t._v(" "),n("div",{staticClass:"valid"},[n("span",{staticClass:"icon-cube"}),t._v(" Validation projet :\n                "),a.validationperiod.validationactivity_by?n("span",[n("i",{staticClass:"icon-ok-circled"}),t._v("\n                    par "),n("strong",[t._v(t._s(a.validationperiod.validationactivity_by))])]):a.validationperiod.rejectactivity_by?n("span",[n("i",{staticClass:"icon-minus-circled"}),t._v("\n                    par "),n("strong",[t._v(t._s(a.validationperiod.rejectactivity_by))])]):n("span",[i.validable_prj?n("nav",[n("button",{staticClass:"btn btn-xs btn-success",on:{click:function(i){t.sendValidationPrj(a.validationperiod_id)}}},[t._v("Validation de la déclaration")]),t._v(" "),n("button",{staticClass:"btn btn-xs btn-danger",on:{click:function(i){t.sendRejectPrj(a.validationperiod_id)}}},[t._v("Refus de la déclaration")])]):n("span",[n("i",{staticClass:"icon-hourglass-3"}),t._v(" "),n("em",[t._v("en attente …")])])])]),t._v(" "),n("div",{staticClass:"valid"},[n("span",{staticClass:"icon-beaker"}),t._v(" Validation scientifique :\n                "),a.validationperiod.validationsci_by?n("span",[n("i",{staticClass:"icon-ok-circled"}),t._v("\n                    par "),n("strong",[t._v(t._s(a.validationperiod.validationsci_by))])]):a.validationperiod.rejectsci_by?n("span",[n("i",{staticClass:"icon-minus-circled"}),t._v("\n                    par "),n("strong",[t._v(t._s(a.validationperiod.rejectsci_by))])]):n("span",[i.validable_sci?n("nav",[n("button",{staticClass:"btn btn-xs btn-success",on:{click:function(i){t.sendValidationSci(a.validationperiod_id)}}},[t._v("Validation scientifique de la déclaration")]),t._v(" "),n("button",{staticClass:"btn btn-xs btn-danger",on:{click:function(i){t.sendRejectSci(a.validationperiod_id)}}},[t._v("Refus scientifique de la déclaration")])]):n("span",[n("i",{staticClass:"icon-hourglass-3"}),t._v(" "),n("em",[t._v("en attente …")])])])]),t._v(" "),n("div",{staticClass:"valid"},[n("span",{staticClass:"icon-hammer"}),t._v(" Validation administrative :\n                "),a.validationperiod.validationadm_by?n("span",[n("i",{staticClass:"icon-ok-circled"}),t._v("\n                    par "),n("strong",[t._v(t._s(a.validationperiod.validationadm_by))])]):a.validationperiod.rejectadm_by?n("span",[n("i",{staticClass:"icon-minus-circled"}),t._v("\n                    par "),n("strong",[t._v(t._s(a.validationperiod.rejectadm_by))])]):n("span",[i.validable_adm?n("nav",[n("button",{staticClass:"btn btn-xs btn-success",on:{click:function(i){t.sendValidationAdm(a.validationperiod_id)}}},[t._v("Validation de la déclaration")]),t._v(" "),n("button",{staticClass:"btn btn-xs btn-danger",on:{click:function(i){t.sendRejectAdm(a.validationperiod_id)}}},[t._v("Refus de la déclaration")])]):n("span",[n("i",{staticClass:"icon-hourglass-3"}),t._v(" "),n("em",[t._v("en attente …")])])])]),t._v(" "),n("section",{staticClass:"days"},[n("div",{staticClass:"label"},[t._v(" ")]),t._v(" "),t._l(t.nbrDays,function(i){return n("div",{staticClass:"day"},[t._v("\n                    "+t._s(i)+"\n                ")])})],2),t._v(" "),t._l(a.details,function(i,a){return n("section",[n("section",{staticClass:"days"},[n("div",{staticClass:"label"},[t._v(t._s(i.label))]),t._v(" "),t._l(t.nbrDays,function(a){return n("div",{staticClass:"day",class:{empty:!i.days[a]}},[t._v("\n                        "+t._s(i.days[a]?i.days[a]:"0.0")+"\n                    ")])})],2)])})],2)}),t._v(" "),n("section",{staticClass:"otherProjects"},[n("h3",[t._v("Autres recherche")]),t._v(" "),t._l(i.projects,function(i){return n("section",[n("section",{staticClass:"days"},[n("div",{staticClass:"label"},[t._v(t._s(i.code))]),t._v(" "),t._l(t.nbrDays,function(a){return n("div",{staticClass:"day",class:{empty:!i.days[a]}},[t._v("\n                        "+t._s(i.days[a]?i.days[a]:"0.0")+"\n                    ")])})],2)])})],2),t._v(" "),n("section",{staticClass:"other"},[n("h3",[t._v("Autres")]),t._v(" "),t._l(i.others,function(i){return n("section",{staticClass:"days"},[n("div",{staticClass:"label"},[t._v(t._s(i.label))]),t._v(" "),t._l(t.nbrDays,function(a){return n("div",{staticClass:"day",class:{empty:!i.days[a]}},[t._v("\n                    "+t._s(i.days[a]?i.days[a]:"0.0")+"\n                ")])})],2)})],2),t._v(" "),n("section",{staticClass:"total"},[n("h3",[t._v("Total pour cette période")]),t._v(" "),n("section",{staticClass:"days"},[n("div",{staticClass:"label"},[t._v("Total")]),t._v(" "),t._l(t.nbrDays,function(a){return n("div",{staticClass:"day",class:{empty:!i.total[a]}},[t._v("\n                    "+t._s(i.total[a]?i.total[a]:"0.0")+"\n                ")])})],2)])],2)}):n("div",{staticClass:"alert alert-danger"},[t._v("\n        Aucune déclaration trouvée pour cette activités\n    ")])],2)},s=[],e={render:a,staticRenderFns:s};i.a=e}])});
//# sourceMappingURL=ValidationActivityVue.js.map