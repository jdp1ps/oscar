(function(t,e){"object"==typeof exports&&"object"==typeof module?module.exports=e():"function"==typeof define&&define.amd?define([],e):"object"==typeof exports?exports.timesheetorganization=e():t.timesheetorganization=e()})("undefined"!=typeof self?self:this,function(){return function(t){function e(s){if(i[s])return i[s].exports;var n=i[s]={i:s,l:!1,exports:{}};return t[s].call(n.exports,n,n.exports,e),n.l=!0,n.exports}var i={};return e.m=t,e.c=i,e.d=function(t,i,s){e.o(t,i)||Object.defineProperty(t,i,{configurable:!1,enumerable:!0,get:s})},e.n=function(t){var i=t&&t.__esModule?function(){return t.default}:function(){return t};return e.d(i,"a",i),i},e.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},e.p="/",e(e.s=3)}([function(t,e){t.exports=function(t,e,i,s,n,a){var r,c=t=t||{},l=typeof t.default;"object"!==l&&"function"!==l||(r=t,c=t.default);var o="function"==typeof c?c.options:c;e&&(o.render=e.render,o.staticRenderFns=e.staticRenderFns,o._compiled=!0),i&&(o.functional=!0),n&&(o._scopeId=n);var u;if(a?(u=function(t){t=t||this.$vnode&&this.$vnode.ssrContext||this.parent&&this.parent.$vnode&&this.parent.$vnode.ssrContext,t||"undefined"==typeof __VUE_SSR_CONTEXT__||(t=__VUE_SSR_CONTEXT__),s&&s.call(this,t),t&&t._registeredComponents&&t._registeredComponents.add(a)},o._ssrRegister=u):s&&(u=s),u){var d=o.functional,v=d?o.render:o.beforeCreate;d?(o._injectStyles=u,o.render=function(t,e){return u.call(e),v(t,e)}):o.beforeCreate=v?[].concat(v,u):[u]}return{esModule:r,exports:c,options:o}}},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var s=i(5),n=function(t){return t&&t.__esModule?t:{default:t}}(s);e.default={props:["timesheets","label","role","moment"],components:{timesheet:n.default},computed:{filteredTimesheets:function(){var t=this;if(this.filtreDeclarant||this.filtreActivite){var e=[];return this.timesheets.forEach(function(i){t.filtreDeclarant&&i.owner.toLowerCase().indexOf(t.filtreDeclarant.toLowerCase())<0||(!t.filtreActivite||i.activity_label.toLowerCase().indexOf(t.filtreActivite.toLowerCase())>-1||i.project_acronym.toLowerCase().indexOf(t.filtreActivite.toLowerCase())>-1)&&e.push(i)}),e}return this.timesheets}},data:function(){return{filtreDeclarant:"",filtreActivite:""}}}},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={name:"timesheet",props:["timesheet","moment"],computed:{start:function(){return this.moment(this.timesheet.start).format("HH:mm")},end:function(){return this.moment(this.timesheet.end).format("HH:mm")},jour:function(){return this.moment(this.timesheet.start).format("dddd D MMMM YYYY")},duree:function(){var t=this.moment(this.timesheet.end),e=this.moment(this.timesheet.start);return this.moment(t.diff(e)).format("HH:mm")}}}},function(t,e,i){t.exports=i(4)},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var s=i(1),n=i.n(s);for(var a in s)"default"!==a&&function(t){i.d(e,t,function(){return s[t]})}(a);var r=i(8),c=i(0),l=c(n.a,r.a,!1,null,null,null);e.default=l.exports},function(t,e,i){"use strict";function s(t){i(6)}Object.defineProperty(e,"__esModule",{value:!0});var n=i(2),a=i.n(n);for(var r in n)"default"!==r&&function(t){i.d(e,t,function(){return n[t]})}(r);var c=i(7),l=i(0),o=s,u=l(a.a,c.a,!1,o,null,null);e.default=u.exports},function(t,e){},function(t,e,i){"use strict";var s=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"timesheet"},[i("div",{staticClass:"activity"},[t.timesheet.url_project?i("a",{staticStyle:{"font-weight":"600"},attrs:{href:t.timesheet.url_project}},[i("i",{staticClass:"icon-cubes"}),t._v("\n            "+t._s(t.timesheet.project_acronym)+"\n        ")]):i("strong",[i("i",{staticClass:"icon-cubes"}),t._v("\n            "+t._s(t.timesheet.project_acronym)+"\n        ")]),t._v(" "),t.timesheet.url_activity?i("a",{attrs:{href:t.timesheet.url_activity}},[i("small",[i("i",{staticClass:"icon-cube"}),t._v("\n                "+t._s(t.timesheet.activity_label)+"\n            ")])]):i("small",[i("i",{staticClass:"icon-cube"}),t._v("\n            "+t._s(t.timesheet.activity_label)+"\n        ")])]),t._v(" "),i("div",{staticClass:"wp",attrs:{title:t.timesheet.workpackage_label}},[i("i",{staticClass:"icon-archive"}),t._v("\n        "+t._s(t.timesheet.workpackage_code)+"\n    ")]),t._v(" "),i("div",{staticClass:"date"},[i("div",{staticClass:"jour"},[t._v(t._s(t.jour))]),t._v(" "),i("div",{staticClass:"horaire"},[t._v(t._s(t.start)+" à "+t._s(t.end))]),t._v(" "),i("div",{staticClass:"duree"},[i("i",{staticClass:"icon-stopwatch"}),t._v(t._s(t.duree)+" heures\n        ")])]),t._v(" "),i("div",{staticClass:"declarant"},[i("i",{staticClass:"icon-user"}),t._v("\n        "+t._s(t.timesheet.owner)+"\n    ")]),t._v(" "),i("div",[t.timesheet.validatedSciBy?i("span",{staticClass:"small-note"},[i("i",{staticClass:"icon-beaker"}),t._v("\n            Validée par "),i("strong",[t._v(t._s(t.timesheet.validatedSciBy))])]):i("span",[t.timesheet.validableSci?i("nav",{staticClass:"btn-group btn-group-xs"},[i("button",{staticClass:"btn btn-xs btn-success",attrs:{title:"Valider scientifiquement ce créneau"},on:{click:function(e){t.$emit("validsci",t.timesheet)}}},[i("i",{staticClass:"icon-beaker"}),t._v("\n                    Valider\n                    ")]),t._v(" "),i("button",{staticClass:"btn btn-xs btn-danger",attrs:{title:"Refuser scientifiquement ce créneau"},on:{click:function(e){t.$emit("rejectsci",t.timesheet)}}},[i("i",{staticClass:"icon-minus-circled"}),t._v("\n                    Refuser\n                ")])]):i("span",{staticClass:"small-note"},[i("i",{staticClass:"icon-beaker"}),t._v("\n                En attente de la validation scientifique\n            ")])])]),t._v(" "),i("div",[t.timesheet.validatedAdminBy?i("span",{attrs:{title:"Ce créneau a été validé administrativement par "+t.timesheet.validatedAdminBy}},[i("span",{staticClass:"small-note"},[i("i",{staticClass:"icon-archive"}),t._v("\n                Validée par "),i("strong",[t._v(t._s(t.timesheet.validatedAdminBy))])])]):i("span",[t.timesheet.validableAdm?i("nav",{staticClass:"btn-group btn-group-xs"},[i("button",{staticClass:"btn btn-xs btn-danger",attrs:{title:"Refuser administrativement ce créneau"},on:{click:function(e){t.$emit("rejectadm",t.timesheet)}}},[i("i",{staticClass:"icon-minus-circled"}),t._v("\n                    Refuser\n                ")]),t._v(" "),i("button",{staticClass:"btn btn-xs btn-success",attrs:{title:"Valider administrativement ce créneau"},on:{click:function(e){t.$emit("validadm",t.timesheet)}}},[i("i",{staticClass:"icon-ok-circled"}),t._v("\n                    Valider\n                ")])]):i("span",{staticClass:"small-note"},[i("i",{staticClass:"icon-beaker"}),t._v("\n                En attente de la validation administrative\n            ")])])])])},n=[],a={render:s,staticRenderFns:n};e.a=a},function(t,e,i){"use strict";var s=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("section",{staticClass:"timesheet-organization"},[i("h2",[i("i",{staticClass:"icon-building-filled"}),t._v(t._s(t.label)+" ("+t._s(t.role)+")")]),t._v(" "),i("p",{directives:[{name:"show",rawName:"v-show",value:t.filtreDeclarant||t.filtreActivite,expression:"filtreDeclarant || filtreActivite"}]},[t._v("\n        Déclaration pour les déclarants correspondant à la recherche\n        "),i("span",{directives:[{name:"show",rawName:"v-show",value:t.filtreDeclarant,expression:"filtreDeclarant"}],staticClass:"cartouche"},[i("i",{staticClass:"icon-user"}),t._v(t._s(t.filtreDeclarant)+"\n            "),i("i",{staticClass:"icon-cancel-circled-outline",on:{click:function(e){t.filtreDeclarant=""}}})]),t._v(" "),i("span",{directives:[{name:"show",rawName:"v-show",value:t.filtreActivite,expression:"filtreActivite"}],staticClass:"cartouche"},[i("i",{staticClass:"icon-cube"}),t._v(t._s(t.filtreActivite)+"\n            "),i("i",{staticClass:"icon-cancel-circled-outline",on:{click:function(e){t.filtreActivite=""}}})])]),t._v(" "),t.timesheets.length?i("div",[i("div",{staticClass:"timesheet timesheet-header"},[i("div",{staticClass:"activity"},[i("i",{staticClass:"icon-cube"}),t._v("\n                Activité\n                "),i("input",{directives:[{name:"model",rawName:"v-model",value:t.filtreActivite,expression:"filtreActivite"}],staticClass:"form-control input-sm",attrs:{placeholder:"Filtrer sur les activités"},domProps:{value:t.filtreActivite},on:{input:function(e){e.target.composing||(t.filtreActivite=e.target.value)}}})]),t._v(" "),t._m(0),t._v(" "),t._m(1),t._v(" "),i("div",{staticClass:"declarant"},[i("i",{staticClass:"icon-user"}),t._v("\n                Déclarant\n                "),i("input",{directives:[{name:"model",rawName:"v-model",value:t.filtreDeclarant,expression:"filtreDeclarant"}],staticClass:"form-control input-sm",attrs:{placeholder:"Filtrer sur les déclarants"},domProps:{value:t.filtreDeclarant},on:{input:function(e){e.target.composing||(t.filtreDeclarant=e.target.value)}}})]),t._v(" "),i("div",[t._v("\n                Validation scientifique\n            ")]),t._v(" "),i("div",[t._v("\n                Validation administrative\n            ")])]),t._v(" "),i("section",{staticClass:"timesheets"},[i("transition-group",{attrs:{name:"list",tag:"article"}},t._l(t.filteredTimesheets,function(e){return i("timesheet",{key:e.id,attrs:{timesheet:e,moment:t.moment},on:{validsci:function(e){t.$emit("validsci",e)},validadm:function(e){t.$emit("validadm",e)},rejectsci:function(e){t.$emit("rejectsci",e)},rejectadm:function(e){t.$emit("rejectadm",e)}}})}))],1)]):i("div",{staticClass:"alert alert-info"},[t._v("\n        Il n'y a pas de déclaration en attente pour "),i("strong",[t._v(t._s(t.label))])])])},n=[function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"wp"},[i("i",{staticClass:"icon-archive"}),t._v("\n                Lot de travail\n            ")])},function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"date"},[i("i",{staticClass:"icon-calendar"}),t._v("\n                Créneau\n            ")])}],a={render:s,staticRenderFns:n};e.a=a}])});
//# sourceMappingURL=TimesheetOrganization.js.map