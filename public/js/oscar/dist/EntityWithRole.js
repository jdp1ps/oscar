(function(t,e){"object"==typeof exports&&"object"==typeof module?module.exports=e():"function"==typeof define&&define.amd?define([],e):"object"==typeof exports?exports.EntityWithRole=e():t.EntityWithRole=e()})("undefined"!=typeof self?self:this,function(){return function(t){function e(i){if(n[i])return n[i].exports;var a=n[i]={i:i,l:!1,exports:{}};return t[i].call(a.exports,a,a.exports,e),a.l=!0,a.exports}var n={};return e.m=t,e.c=n,e.d=function(t,n,i){e.o(t,n)||Object.defineProperty(t,n,{configurable:!1,enumerable:!0,get:i})},e.n=function(t){var n=t&&t.__esModule?function(){return t.default}:function(){return t};return e.d(n,"a",n),n},e.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},e.p="/",e(e.s=5)}([function(t,e){t.exports=function(t,e,n,i,a,r){var s,o=t=t||{},l=typeof t.default;"object"!==l&&"function"!==l||(s=t,o=t.default);var c="function"==typeof o?o.options:o;e&&(c.render=e.render,c.staticRenderFns=e.staticRenderFns,c._compiled=!0),n&&(c.functional=!0),a&&(c._scopeId=a);var u;if(r?(u=function(t){t=t||this.$vnode&&this.$vnode.ssrContext||this.parent&&this.parent.$vnode&&this.parent.$vnode.ssrContext,t||"undefined"==typeof __VUE_SSR_CONTEXT__||(t=__VUE_SSR_CONTEXT__),i&&i.call(this,t),t&&t._registeredComponents&&t._registeredComponents.add(r)},c._ssrRegister=u):i&&(u=i),u){var d=c.functional,f=d?c.render:c.beforeCreate;d?(c._injectStyles=u,c.render=function(t,e){return u.call(e),f(t,e)}):c.beforeCreate=f?[].concat(f,u):[u]}return{esModule:s,exports:o,options:c}}},function(t,e,n){"use strict";var i=n(7),a=n(10),r=n(12);e.a={components:{organizationselector:i.a,personselector:a.a,datepicker:r.a},props:{url:{required:!0},urlNew:{required:!0},roles:{required:!0},manage:{required:!0,default:!1},title:{required:!0},moment:{required:!0}},data:function(){return{entities:[],entityEdited:null,entityDelete:null,entityNew:null,error:null}},methods:{handlerEdit:function(t){this.entityEdited=t},handlerDelete:function(t){this.entityDelete=t},handlerNew:function(){this.entityNew={end:"",start:"",role:null,enroled:null,enroledLabel:""}},handlerEnrolledSelected:function(t){this.entityNew.enroled=t.id,this.entityNew.enroledLabel=t.label},handlerCancel:function(){this.entityNew.enroled=null,this.entityNew.enroledLabel="",this.entityNew.role=null},open:function(t){document.location=t},performDelete:function(){var t=this;this.$http.post(this.entityDelete.urlDelete,{}).then(function(t){},function(e){t.error=e.body}).then(function(e){t.entityDelete=null,t.fetch()})},performEdit:function(){var t=this,e=new FormData;e.append("dateStart",""),e.append("dateEnd",""),e.append("role",this.entityEdited.roleId),e.append("enrolled",this.entityEdited.enrolled),this.$http.post(this.entityEdited.urlEdit,e).then(function(t){console.log("OK",t)},function(e){t.error="Erreur : "+e.body}).then(function(e){t.entityEdited=null,t.fetch()}),console.log(arguments)},performNew:function(){var t=this,e=new FormData;e.append("dateStart",this.entityNew.start),e.append("dateEnd",this.entityNew.end),e.append("role",this.entityNew.role),e.append("enroled",this.entityNew.enroled),this.$http.post(this.urlNew+"/"+this.entityNew.enroled,e).then(function(t){console.log("OK",t)},function(e){t.error=403==e.status?"Vous n'êtes pas authorisé à faire ça":"Erreur : "+e.body}).then(function(e){t.entityNew=null,t.fetch()}),console.log(arguments)},fetch:function(){var t=this;this.$http.get(this.url).then(function(e){t.entities=e.body},function(e){t.error="Erreur : "+e.body})}},mounted:function(){this.fetch()}}},function(t,e,n){"use strict";n(8);e.a={data:function(){return{url:"/organization?q=",organizations:[],expression:"",loading:!1,selectedPerson:null,showSelector:!0}},watch:{expression:function(t,e){t.length>=2&&this.search()}},methods:{search:function(){var t=this;this.loading=!0,this.$http.get(this.url+this.expression).then(function(e){t.organizations=e.body.datas,t.showSelector=!0},function(t){console.log(t)}).then(function(e){return t.loading=!1})},handlerSelectPerson:function(t){this.selectedPerson=t,this.showSelector=!1,this.expression="",this.$emit("change",t)}}}},function(t,e,n){"use strict";e.a={data:function(){return{url:"/person?l=m&q=",persons:[],expression:"",loading:!1,selectedPerson:null,showSelector:!0,request:null}},watch:{expression:function(t,e){t.length>=2&&this.search()}},methods:{search:function(){var t=this;this.loading=!0,this.$http.get(this.url+this.expression,{before:function(t){this.request&&this.request.abort(),this.request=t}}).then(function(e){t.persons=e.body.datas,t.showSelector=!0},function(t){}).then(function(e){t.loading=!1,t.request=null})},handlerSelectPerson:function(t){this.selectedPerson=t,this.showSelector=!1,this.expression="",this.$emit("change",t)}}}},function(t,e,n){"use strict";e.a={model:{prop:"value",event:"input"},props:{moment:{required:!0},value:{default:null},i18n:{default:"fr"},limitFrom:{default:null},daysShort:{default:function(){return["Lun","Mar","Mer","Jeu","Ven","Sam","Dim"]}},months:{default:function(){return["Janvier","Février","Mars","Avril","Mai","Juin","Juillet","Aout","Septembre","Octobre","Novembre","Décembre"]}},valueFormat:{default:"YYYY-MM-DD"},displayFormat:{default:"D MMMM YYYY"},format:{default:"dddd D MMMM YYYY"}},data:function(){return{picker:!1,pickerMode:"day",pickerDayRef:this.moment().format(),pickerYearRef:this.moment().format("YYYY"),pickerMonthRef:this.moment().month(),realValue:this.value,manualChange:""}},computed:{years:function(){for(var t=this.pickerYearRef-11,e=this.pickerYearRef+11,n=[],i=t;i<e;i++)n.push(i);return n},mmValue:function(){return this.realValue?this.moment(this.realValue):this.moment()},pickerData:function(){this.moment.locale(this.i18n);for(var t=this.daysShort,e=this.moment(this.realValue).format(this.valueFormat),n=this.moment(this.pickerDayRef).startOf("month").startOf("isoWeek"),i=this.moment(this.pickerDayRef).endOf("month").startOf("isoWeek"),a=[];n.unix()<=i.unix();){for(var r={num:n.week(),days:[]},s=1;s<=7;s++){var o=!this.limitFrom||this.limitFrom&&this.limitFrom<n.format();r.days.push({enabled:o,date:n.format(),active:n.format(this.valueFormat)==e,day:n.format("D")}),n.add(1,"day")}a.push(r)}return{dayslabels:t,weeks:a}},currentMonth:function(){return this.moment(this.pickerDayRef).format("MMMM")},currentYear:function(){return this.moment(this.pickerDayRef).format("YYYY")},renderDate:function(){return null==this.realValue?"":this.moment(this.realValue).format(this.format)},renderValue:{get:function(){return this.realValue?this.mmValue.format(this.displayFormat):""},set:function(t){console.log("convert ",t);try{var e=this.moment(t,this.displayFormat);e.isValid()&&this.changeDate(e.format(this.valueFormat))}catch(t){return}}}},methods:{handlerClear:function(){console.log(this.realValue),this.changeDate(null)},handlerInputChange:function(t){try{var e=this.moment(t.target.value);this.changeDate(e.format(this.valueFormat))}catch(t){console.error("WTF DATE",t)}},handlerSelectMonth:function(t){var e=this.months.indexOf(t);this.pickerDayRef=this.moment(this.pickerDayRef).month(e).format(),this.pickerMode="day"},handlerSelectYear:function(t){this.pickerDayRef=this.moment(this.pickerDayRef).year(t).format(),this.pickerMode="day"},changeDate:function(t){console.log("Modification de la date",t),this.picker=!1,this.realValue=t,this.$emit("input",this.realValue),this.$emit("change",this.realValue),this.handlerHide()},pickerNextMonth:function(){this.pickerDayRef=this.moment(this.pickerDayRef).add(1,"month").format()},pickerPrevMonth:function(){this.pickerDayRef=this.moment(this.pickerDayRef).subtract(1,"month").format()},handlerPickerMonth:function(t){t.preventDefault(),t.stopImmediatePropagation(),t.stopPropagation(),this.pickerMode="month"},handlerPickerYear:function(){this.pickerMode="year"},handlerShow:function(){this.initPickerVar(),this.picker=!0,this.watchOut()},watchOut:function(){},handlerHide:function(t){this.picker=!1},initPickerVar:function(){var t=this.moment(this.pickerDayRef?this.pickerDayRef:moment());this.pickerYearRef=t.year(),this.pickerMonthRef=t.format("MMMM")}},created:function(){this.moment.locale(this.i18n),this.pickerDayRef=this.value?this.value:this.moment().format(),this.initPickerVar()}}},function(t,e,n){t.exports=n(6)},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n(1),a=n(15),r=n(0),s=r(i.a,a.a,!1,null,null,null);e.default=s.exports},function(t,e,n){"use strict";var i=n(2),a=n(9),r=n(0),s=r(i.a,a.a,!1,null,null,null);e.a=s.exports},function(t,e,n){"use strict";var i=[];Math.random()},function(t,e,n){"use strict";var i=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("input",{directives:[{name:"model",rawName:"v-model",value:t.expression,expression:"expression"}],attrs:{type:"text"},domProps:{value:t.expression},on:{keyup:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:(e.preventDefault(),t.search(e))},input:function(e){e.target.composing||(t.expression=e.target.value)}}}),t._v(" "),n("span",{directives:[{name:"show",rawName:"v-show",value:t.loading,expression:"loading"}]},[n("i",{staticClass:"icon-spinner animate-spin"})]),t._v(" "),n("div",{directives:[{name:"show",rawName:"v-show",value:t.organizations.length>0&&t.showSelector,expression:"organizations.length > 0 && showSelector"}],staticClass:"choose",staticStyle:{position:"absolute","z-index":"3000","max-height":"200px",overflow:"scroll","overflow-y":"scroll","overflow-x":"hidden"}},t._l(t.organizations,function(e){return n("div",{key:e.id,staticClass:"choice",on:{click:function(n){return n.preventDefault(),n.stopPropagation(),t.handlerSelectPerson(e)}}},[n("div",{staticClass:"infos"},[n("strong",[t._v(t._s(e.label))])])])}),0)])},a=[],r={render:i,staticRenderFns:a};e.a=r},function(t,e,n){"use strict";var i=n(3),a=n(11),r=n(0),s=r(i.a,a.a,!1,null,null,null);e.a=s.exports},function(t,e,n){"use strict";var i=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("input",{directives:[{name:"model",rawName:"v-model",value:t.expression,expression:"expression"}],attrs:{type:"text"},domProps:{value:t.expression},on:{keyup:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:(e.preventDefault(),t.search(e))},input:function(e){e.target.composing||(t.expression=e.target.value)}}}),t._v(" "),n("span",{directives:[{name:"show",rawName:"v-show",value:t.loading,expression:"loading"}]},[n("i",{staticClass:"icon-spinner animate-spin"})]),t._v(" "),n("div",{directives:[{name:"show",rawName:"v-show",value:t.persons.length>0&&t.showSelector,expression:"persons.length > 0 && showSelector"}],staticClass:"choose",staticStyle:{position:"absolute","z-index":"3000","max-height":"400px",overflow:"hidden","overflow-y":"scroll"}},t._l(t.persons,function(e){return n("div",{key:e.id,staticClass:"choice",on:{click:function(n){return n.preventDefault(),n.stopPropagation(),t.handlerSelectPerson(e)}}},[n("div",{staticStyle:{display:"block",width:"50px",height:"50px"}},[n("img",{staticStyle:{width:"100%"},attrs:{src:"https://www.gravatar.com/avatar/"+e.mailMd5+"?s=50",alt:e.displayname}})]),t._v(" "),n("div",{staticClass:"infos"},[n("strong",{staticStyle:{"font-weight":"700","font-size":"1.1em","padding-left":"0"}},[t._v(t._s(e.displayname))]),n("br"),t._v(" "),n("span",{staticStyle:{"font-weight":"100","font-size":".8em","padding-left":"0"}},[n("i",{staticClass:"icon-location"}),t._v("\n                    "+t._s(e.affectation)+"\n                    "),e.ucbnSiteLocalisation?n("span",[t._v(" ~ "+t._s(e.ucbnSiteLocalisation))]):t._e()]),n("br"),t._v(" "),n("em",{staticStyle:{"font-weight":"100","font-size":".8em"}},[n("i",{staticClass:"icon-mail"}),t._v(t._s(e.email))])])])}),0)])},a=[],r={render:i,staticRenderFns:a};e.a=r},function(t,e,n){"use strict";function i(t){n(13)}var a=n(4),r=n(14),s=n(0),o=i,l=s(a.a,r.a,!1,o,"data-v-5bc1d1c4",null);e.a=l.exports},function(t,e){},function(t,e,n){"use strict";var i=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{on:{mouseenter:t.handlerShow,mouseleave:t.handlerHide}},[n("div",{staticClass:"input-group"},[n("input",{directives:[{name:"model",rawName:"v-model",value:t.renderValue,expression:"renderValue"}],staticClass:"form-control",attrs:{type:"text"},domProps:{value:t.renderValue},on:{input:function(e){e.target.composing||(t.renderValue=e.target.value)}}}),t._v(" "),t._m(0)]),t._v(" "),n("div",{directives:[{name:"show",rawName:"v-show",value:t.picker,expression:"picker"}],staticClass:"datepicker-selector",on:{mouseleave:t.handlerHide}},[n("div",{staticClass:"datepicker-wrapper"},[n("header",[n("nav",[n("span",{attrs:{href:"#"},on:{click:function(e){return e.stopPropagation(),e.preventDefault(),t.pickerPrevMonth(e)}}},[n("i",{staticClass:"icon-angle-left"})]),t._v(" "),n("strong",{staticClass:"heading"},[n("span",{staticClass:"currentMonth",on:{click:function(e){return e.stopPropagation(),t.handlerPickerMonth(e)}}},[t._v(t._s(t.currentMonth))]),t._v(" "),n("span",{staticClass:"currentYear",on:{click:function(e){return e.stopPropagation(),t.handlerPickerYear(e)}}},[t._v(t._s(t.currentYear))])]),t._v(" "),n("span",{attrs:{href:"#"},on:{click:function(e){return e.stopPropagation(),t.pickerNextMonth(e)}}},[n("i",{staticClass:"icon-angle-right"})])]),t._v(" "),"day"==t.pickerMode?n("div",{staticClass:"day-labels week"},[n("span",{staticClass:"week-label"},[t._v(" ")]),t._v(" "),t._l(t.pickerData.dayslabels,function(e){return n("span",{staticClass:"day-label"},[t._v(t._s(e))])})],2):t._e()]),t._v(" "),"day"==t.pickerMode?n("section",t._l(t.pickerData.weeks,function(e){return n("div",{staticClass:"weeks"},[n("span",{staticClass:"week"},[n("span",{staticClass:"week-label"},[t._v(t._s(e.num))]),t._v(" "),t._l(e.days,function(e){return n("span",{staticClass:"week-day",class:{active:e.active,disabled:!e.enabled},on:{click:function(n){return n.preventDefault(),n.stopPropagation(),t.changeDate(e.date)}}},[t._v("\n                              "+t._s(e.day)+"\n                            ")])})],2)])}),0):t._e(),t._v(" "),"month"==t.pickerMode?n("section",{staticClass:"months"},t._l(t.months,function(e){return n("span",{staticClass:"month",class:{active:t.pickerMonthRef==e},on:{click:function(n){return n.preventDefault(),n.stopPropagation(),t.handlerSelectMonth(e)}}},[t._v("\n                      "+t._s(e)+"\n                    ")])}),0):t._e(),t._v(" "),"year"==t.pickerMode?n("section",{staticClass:"years"},[n("span",{staticClass:"year",on:{click:function(e){e.preventDefault(),e.stopPropagation(),t.pickerYearRef-=22}}},[t._v("<<")]),t._v(" "),t._l(t.years,function(e){return n("span",{staticClass:"year",class:{active:t.pickerYearRef==e},on:{click:function(n){return n.preventDefault(),n.stopPropagation(),t.handlerSelectYear(e)}}},[t._v("\n                      "+t._s(e)+"\n                    ")])}),t._v(" "),n("span",{staticClass:"year",on:{click:function(e){e.preventDefault(),e.stopPropagation(),t.pickerYearRef+=22}}},[t._v(">>")])],2):t._e()]),t._v(" "),n("div",{staticStyle:{"text-align":"center",cursor:"pointer"},on:{click:t.handlerClear}},[n("i",{staticClass:"icon-cancel-alt"}),t._v("\n            Supprimer la date\n        ")])])])},a=[function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"input-group-addon"},[n("i",{staticClass:"icon-calendar"})])}],r={render:i,staticRenderFns:a};e.a=r},function(t,e,n){"use strict";var i=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("code",[t._v(t._s(t.entityEdited))]),t._v(" "),t.entityDelete?n("div",{staticClass:"overlay"},[n("div",{staticClass:"overlay-content"},[n("i",{staticClass:"icon-cancel-outline overlay-closer",on:{click:function(e){t.entityDelete=null}}}),t._v(" "),n("h2",[t._v("Supprimer le rôle "),n("strong",[t._v(t._s(t.entityDelete.role))]),t._v(" de "),n("strong",[t._v(t._s(t.entityDelete.enrolledLabel))]),t._v(" ?")]),t._v(" "),n("nav",{staticClass:"admin-bar"},[n("button",{staticClass:"btn btn-default button-back",on:{click:function(e){t.entityDelete=null}}},[n("i",{staticClass:"icon-angle-left"}),t._v("\n                    Annuler\n                ")]),t._v(" "),n("button",{staticClass:"btn btn-primary",on:{click:t.performDelete}},[n("i",{staticClass:"icon-trash"}),t._v("\n                    Confirmer la suppression\n                ")])])])]):t._e(),t._v(" "),t.error?n("div",{staticClass:"overlay"},[n("div",{staticClass:"overlay-content"},[n("i",{staticClass:"icon-cancel-outline overlay-closer",on:{click:function(e){t.error=""}}}),t._v(" "),n("h2",[t._v("Erreur : "),n("strong",[t._v(t._s(t.error))])]),t._v(" "),n("nav",{staticClass:"admin-bar"},[n("button",{staticClass:"btn btn-default button-back",on:{click:function(e){t.error=""}}},[n("i",{staticClass:"icon-angle-left"}),t._v("\n                    Annuler\n                ")])])])]):t._e(),t._v(" "),t.entityEdited?n("div",{staticClass:"overlay"},[n("div",{staticClass:"overlay-content",staticStyle:{overflow:"visible"}},[n("i",{staticClass:"icon-cancel-outline overlay-closer",on:{click:function(e){t.entityEdited=null}}}),t._v(" "),n("form",{attrs:{action:t.entityEdited.urlEdit,method:"post"},on:{submit:function(e){return e.preventDefault(),t.performEdit(e)}}},[n("h2",[t.entityEdited.enrolledLabel?n("span",[t._v("\n                        Modifier "),n("strong",[t._v(t._s(t.entityEdited.enrolledLabel))]),t._v("\n                        en tant que "),n("em",[t._v(t._s(t.entityEdited.role))])]):t._e()]),t._v(" "),n("input",{directives:[{name:"model",rawName:"v-model",value:t.entityEdited.enrolled,expression:"entityEdited.enrolled"}],staticClass:"form-control select2",attrs:{type:"hidden",name:"enroled"},domProps:{value:t.entityEdited.enrolled},on:{input:function(e){e.target.composing||t.$set(t.entityEdited,"enrolled",e.target.value)}}}),t._v(" "),n("div",{staticClass:"row"},[n("div",{staticClass:"col-md-6"},[n("div",{staticClass:"form-group"},[n("label",{staticClass:" control-label",attrs:{for:"role"}},[t._v("Rôle")]),t._v(" "),n("select",{directives:[{name:"model",rawName:"v-model",value:t.entityEdited.roleId,expression:"entityEdited.roleId"}],staticClass:" form-control",attrs:{name:"role"},on:{change:function(e){var n=Array.prototype.filter.call(e.target.options,function(t){return t.selected}).map(function(t){return"_value"in t?t._value:t.value});t.$set(t.entityEdited,"roleId",e.target.multiple?n:n[0])}}},t._l(t.roles,function(e,i){return n("option",{domProps:{value:i}},[t._v("\n                                    "+t._s(e)+"\n                                ")])}),0)])]),t._v(" "),n("div",{staticClass:"col-md-6"},[n("div",{staticClass:"form-group"},[n("label",{staticClass:"form-label control-label",attrs:{for:"dateStart"}},[t._v("Date de début")]),t._v(" "),n("datepicker",{attrs:{moment:t.moment,value:t.entityEdited.start},on:{input:function(e){t.entityEdited.start=e}}})],1),t._v(" "),n("div",{staticClass:"form-group"},[n("label",{staticClass:"form-label control-label",attrs:{for:"dateEnd"}},[t._v("Date de fin")]),t._v(" "),n("datepicker",{attrs:{moment:t.moment,value:t.entityEdited.end},on:{input:function(e){t.entityEdited.end=e}}})],1)])]),t._v(" "),n("nav",{staticClass:"admin-bar"},[n("button",{staticClass:"btn btn-default button-back",on:{click:function(e){t.entityEdited=null}}},[n("i",{staticClass:"icon-angle-left"}),t._v("\n                        Annuler\n                    ")]),t._v(" "),t._m(0)])])])]):t._e(),t._v(" "),t.entityNew?n("div",{staticClass:"overlay"},[n("div",{staticClass:"overlay-content",staticStyle:{overflow:"visible"}},[n("i",{staticClass:"icon-cancel-outline overlay-closer",on:{click:function(e){t.entityNew=null}}}),t._v(" "),n("h2",[t._v("Rôle de "),n("strong",[t._v(t._s(t.entityNew.enroledLabel))]),t._v(" : ")]),t._v(" "),n("input",{directives:[{name:"model",rawName:"v-model",value:t.entityNew.enrolled,expression:"entityNew.enrolled"}],staticClass:"form-control select2",attrs:{type:"hidden",name:"enroled"},domProps:{value:t.entityNew.enrolled},on:{input:function(e){e.target.composing||t.$set(t.entityNew,"enrolled",e.target.value)}}}),t._v(" "),n("div",{staticClass:"row"},[n("div",{staticClass:"col-md-6"},[t.entityNew.enroledLabel?n("span",{staticClass:"cartouche"},[t._v("\n                        "+t._s(t.entityNew.enroledLabel)+"\n                        "),n("i",{staticClass:"icon-cancel-alt icon-clickable",on:{click:t.handlerCancel}}),t._v(" "),t.entityNew.role?n("span",{staticClass:"addon"},[t._v("\n                            "+t._s(t.roles[t.entityNew.role])+"\n                        ")]):t._e()]):n("div",{staticClass:"form-group"},[n("label",{staticClass:" control-label",attrs:{for:"enroled"}},[t._v(t._s(t.title))]),t._v(" "),"Personne"==t.title?n("personselector",{on:{change:function(e){return t.handlerEnrolledSelected(e)}}}):n("organizationselector",{on:{change:function(e){return t.handlerEnrolledSelected(e)}}})],1),t._v(" "),n("div",{staticClass:"form-group"},[n("label",{staticClass:" control-label",attrs:{for:"role"}},[t._v("Rôle")]),t._v(" "),n("select",{directives:[{name:"model",rawName:"v-model",value:t.entityNew.role,expression:"entityNew.role"}],staticClass:" form-control",attrs:{name:"role"},on:{change:function(e){var n=Array.prototype.filter.call(e.target.options,function(t){return t.selected}).map(function(t){return"_value"in t?t._value:t.value});t.$set(t.entityNew,"role",e.target.multiple?n:n[0])}}},t._l(t.roles,function(e,i){return n("option",{domProps:{value:i}},[t._v("\n                                "+t._s(e)+"\n                            ")])}),0)])]),t._v(" "),n("div",{staticClass:"col-md-6"},[n("div",{staticClass:"form-group"},[n("label",{staticClass:"form-label control-label",attrs:{for:"dateStart"}},[t._v("Date de début")]),t._v(" "),n("datepicker",{attrs:{moment:t.moment,value:t.entityNew.start},on:{input:function(e){t.entityNew.start=e}}})],1),t._v(" "),n("div",{staticClass:"form-group"},[n("label",{staticClass:"form-label control-label",attrs:{for:"dateEnd"}},[t._v("Date de fin")]),t._v(" "),n("datepicker",{attrs:{moment:t.moment,value:t.entityNew.end},on:{input:function(e){t.entityNew.end=e}}})],1)])]),t._v(" "),n("nav",{staticClass:"admin-bar"},[n("button",{staticClass:"btn btn-default button-back",on:{click:function(e){t.entityNew=null}}},[n("i",{staticClass:"icon-angle-left"}),t._v("\n                    Annuler\n                ")]),t._v(" "),n("button",{staticClass:"btn btn-primary",attrs:{type:"submit"},on:{click:t.performNew}},[n("i",{staticClass:"icon-floppy"}),t._v("\n                    Enregistrer\n                ")])])])]):t._e(),t._v(" "),t.manage?n("nav",{staticClass:"admin-bar text-right"},[n("a",{staticClass:"oscar-link",on:{click:function(e){return t.handlerNew()}}},[n("i",{staticClass:"icon-doc-add"}),t._v("\n            Nouveau\n        ")])]):t._e(),t._v(" "),t._l(t.entities,function(e){return n("span",{staticClass:"cartouche",class:{primary:e.rolePrincipal}},["activity"==e.context?n("i",{staticClass:"icon-cube"}):n("i",{staticClass:"icon-cubes"}),t._v(" "),e.urlShow?n("span",{staticClass:"text-clickable",on:{click:function(n){return t.open(e.urlShow)}}},[t._v(t._s(e.enrolledLabel))]):n("span",[t._v(t._s(e.enrolledLabel))]),t._v(" "),n("span",{staticClass:"addon"},[t._v("\n            "+t._s(e.roleLabel)+"\n            "),t.manage?n("i",{staticClass:"icon-pencil-1 icon-clickable",on:{click:function(n){return t.handlerEdit(e)}}}):t._e(),t._v(" "),t.manage?n("i",{staticClass:"icon-trash icon-clickable",on:{click:function(n){return t.handlerDelete(e)}}}):t._e()])])})],2)},a=[function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("button",{staticClass:"btn btn-primary",attrs:{type:"submit"}},[n("i",{staticClass:"icon-floppy"}),t._v("\n                        Enregistrer\n                    ")])}],r={render:i,staticRenderFns:a};e.a=r}])});
//# sourceMappingURL=EntityWithRole.js.map