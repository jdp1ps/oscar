(function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t():"function"==typeof define&&define.amd?define([],t):"object"==typeof exports?exports.EntityWithRole=t():e.EntityWithRole=t()})("undefined"!=typeof self?self:this,function(){return function(e){function t(i){if(n[i])return n[i].exports;var a=n[i]={i:i,l:!1,exports:{}};return e[i].call(a.exports,a,a.exports,t),a.l=!0,a.exports}var n={};return t.m=e,t.c=n,t.d=function(e,n,i){t.o(e,n)||Object.defineProperty(e,n,{configurable:!1,enumerable:!0,get:i})},t.n=function(e){var n=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(n,"a",n),n},t.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},t.p="/",t(t.s=6)}([function(e,t){e.exports=function(e,t,n,i,a,r){var s,o=e=e||{},l=typeof e.default;"object"!==l&&"function"!==l||(s=e,o=e.default);var c="function"==typeof o?o.options:o;t&&(c.render=t.render,c.staticRenderFns=t.staticRenderFns,c._compiled=!0),n&&(c.functional=!0),a&&(c._scopeId=a);var u;if(r?(u=function(e){e=e||this.$vnode&&this.$vnode.ssrContext||this.parent&&this.parent.$vnode&&this.parent.$vnode.ssrContext,e||"undefined"==typeof __VUE_SSR_CONTEXT__||(e=__VUE_SSR_CONTEXT__),i&&i.call(this,e),e&&e._registeredComponents&&e._registeredComponents.add(r)},c._ssrRegister=u):i&&(u=i),u){var d=c.functional,f=d?c.render:c.beforeCreate;d?(c._injectStyles=u,c.render=function(e,t){return u.call(t),f(e,t)}):c.beforeCreate=f?[].concat(f,u):[u]}return{esModule:s,exports:o,options:c}}},function(e,t,n){"use strict";var i=n(8),a=n(10),r=n(12);t.a={components:{organizationselector:i.a,personselector:a.a,datepicker:r.a},props:{url:{required:!0},urlNew:{required:!0},roles:{required:!0},manage:{required:!0,default:!1},title:{required:!0},moment:{required:!0}},data:function(){return{entities:[],entityEdited:null,entityDelete:null,entityNew:null,error:null}},methods:{handlerEdit:function(e){this.entityEdited=e},handlerDelete:function(e){this.entityDelete=e},handlerNew:function(){this.entityNew={end:"",start:"",role:null,enroled:null,enroledLabel:""}},handlerEnrolledSelected:function(e){this.entityNew.enroled=e.id,this.entityNew.enroledLabel=e.label},handlerCancel:function(){this.entityNew.enroled=null,this.entityNew.enroledLabel="",this.entityNew.role=null},open:function(e){document.location=e},performDelete:function(){var e=this;this.$http.post(this.entityDelete.urlDelete,{}).then(function(e){},function(t){e.error="Erreur : "+t.body}).then(function(t){e.entityDelete=null,e.fetch()})},performEdit:function(){var e=this,t=new FormData;t.append("dateStart",""),t.append("dateEnd",""),t.append("role",this.entityEdited.roleId),t.append("enrolled",this.entityEdited.enrolled),this.$http.post(this.entityEdited.urlEdit,t).then(function(e){console.log("OK",e)},function(t){e.error="Erreur : "+t.body}).then(function(t){e.entityEdited=null,e.fetch()}),console.log(arguments)},performNew:function(){var e=this,t=new FormData;t.append("dateStart",this.entityNew.start),t.append("dateEnd",this.entityNew.end),t.append("role",this.entityNew.role),t.append("enroled",this.entityNew.enroled),this.$http.post(this.urlNew+"/"+this.entityNew.enroled,t).then(function(e){console.log("OK",e)},function(t){e.error="Erreur : "+t.body}).then(function(t){e.entityNew=null,e.fetch()}),console.log(arguments)},fetch:function(){var e=this;this.$http.get(this.url).then(function(t){e.entities=t.body},function(t){e.error="Erreur : "+t.body})}},mounted:function(){this.fetch()}}},function(e,t,n){"use strict";n(3);t.a={data:function(){return{url:"/organization?q=",organizations:[],expression:"",loading:!1,selectedPerson:null,showSelector:!0}},watch:{expression:function(e,t){e.length>=2&&this.search()}},methods:{search:function(){var e=this;this.loading=!0,this.$http.get(this.url+this.expression).then(function(t){e.organizations=t.body.datas,e.showSelector=!0},function(e){console.log(e)}).then(function(t){return e.loading=!1})},handlerSelectPerson:function(e){this.selectedPerson=e,this.showSelector=!1,this.expression="",this.$emit("change",e)}}}},function(e,t,n){"use strict";var i=[],a={id:"BUS"+Math.random(),name:"!OscarBus!",messages:i,message:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"notice";i.push({key:(new Date).getTime(),msg:e,date:new Date,type:t,read:!1})},errors:function(){},unreadErrors:function(){for(var e=[],t=0;t<i.length;t++)i[t].read||e.push(i[t]);return e}};t.a=a},function(e,t,n){"use strict";var i=n(3);t.a={data:function(){return{url:"/person?l=m&q=",persons:[],expression:"",loading:!1,selectedPerson:null,showSelector:!0,request:null}},watch:{expression:function(e,t){e.length>=2&&this.search()}},methods:{search:function(){var e=this;this.loading=!0,this.request=this.$http.get(this.url+this.expression,{before:function(e){console.log("Before",e),this.request&&this.request.abort(),this.request=e}}).then(function(t){e.persons=t.body.datas,e.showSelector=!0},function(e){i.a.message("Erreur de recherche sur la personne","error")}).then(function(t){e.loading=!1,e.request=null})},handlerSelectPerson:function(e){this.selectedPerson=e,this.showSelector=!1,this.expression="",this.$emit("change",e)}}}},function(e,t,n){"use strict";t.a={model:{prop:"value",event:"input"},props:{moment:{required:!0},value:{default:null},i18n:{default:"fr"},limitFrom:{default:null},daysShort:{default:function(){return["Lun","Mar","Mer","Jeu","Ven","Sam","Dim"]}},months:{default:function(){return["Janvier","Février","Mars","Avril","Mai","Juin","Juillet","Aout","Septembre","Octobre","Novembre","Décembre"]}},valueFormat:{default:"YYYY-MM-DD"},displayFormat:{default:"D MMMM YYYY"},format:{default:"dddd D MMMM YYYY"}},data:function(){return{picker:!1,pickerMode:"day",pickerDayRef:this.moment().format(),pickerYearRef:this.moment().format("YYYY"),pickerMonthRef:this.moment().month(),realValue:this.value,manualChange:""}},computed:{years:function(){for(var e=this.pickerYearRef-11,t=this.pickerYearRef+11,n=[],i=e;i<t;i++)n.push(i);return n},mmValue:function(){return this.realValue?this.moment(this.realValue):this.moment()},pickerData:function(){this.moment.locale(this.i18n);for(var e=this.daysShort,t=this.moment(this.realValue).format(this.valueFormat),n=this.moment(this.pickerDayRef).startOf("month").startOf("isoWeek"),i=this.moment(this.pickerDayRef).endOf("month").startOf("isoWeek"),a=[];n.unix()<=i.unix();){for(var r={num:n.week(),days:[]},s=1;s<=7;s++){var o=!this.limitFrom||this.limitFrom&&this.limitFrom<n.format();r.days.push({enabled:o,date:n.format(),active:n.format(this.valueFormat)==t,day:n.format("D")}),n.add(1,"day")}a.push(r)}return{dayslabels:e,weeks:a}},currentMonth:function(){return this.moment(this.pickerDayRef).format("MMMM")},currentYear:function(){return this.moment(this.pickerDayRef).format("YYYY")},renderDate:function(){return null==this.realValue?"":this.moment(this.realValue).format(this.format)},renderValue:{get:function(){return this.realValue?this.mmValue.format(this.displayFormat):""},set:function(e){console.log("convert ",e);try{var t=this.moment(e,this.displayFormat);t.isValid()&&this.changeDate(t.format(this.valueFormat))}catch(e){return}}}},methods:{handlerClear:function(){console.log(this.realValue),this.changeDate(null)},handlerInputChange:function(e){try{var t=this.moment(e.target.value);this.changeDate(t.format(this.valueFormat))}catch(e){console.error("WTF DATE",e)}},handlerSelectMonth:function(e){var t=this.months.indexOf(e);this.pickerDayRef=this.moment(this.pickerDayRef).month(t).format(),this.pickerMode="day"},handlerSelectYear:function(e){this.pickerDayRef=this.moment(this.pickerDayRef).year(e).format(),this.pickerMode="day"},changeDate:function(e){console.log("Modification de la date",e),this.picker=!1,this.realValue=e,this.$emit("input",this.realValue),this.$emit("change",this.realValue),this.handlerHide()},pickerNextMonth:function(){this.pickerDayRef=this.moment(this.pickerDayRef).add(1,"month").format()},pickerPrevMonth:function(){this.pickerDayRef=this.moment(this.pickerDayRef).subtract(1,"month").format()},handlerPickerMonth:function(e){e.preventDefault(),e.stopImmediatePropagation(),e.stopPropagation(),this.pickerMode="month"},handlerPickerYear:function(){this.pickerMode="year"},handlerShow:function(){this.initPickerVar(),this.picker=!0,this.watchOut()},watchOut:function(){},handlerHide:function(e){this.picker=!1},initPickerVar:function(){var e=this.moment(this.pickerDayRef?this.pickerDayRef:moment());this.pickerYearRef=e.year(),this.pickerMonthRef=e.format("MMMM")}},created:function(){this.moment.locale(this.i18n),this.pickerDayRef=this.value?this.value:this.moment().format(),this.initPickerVar()}}},function(e,t,n){e.exports=n(7)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=n(1),a=n(15),r=n(0),s=r(i.a,a.a,!1,null,null,null);t.default=s.exports},function(e,t,n){"use strict";var i=n(2),a=n(9),r=n(0),s=r(i.a,a.a,!1,null,null,null);t.a=s.exports},function(e,t,n){"use strict";var i=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("input",{directives:[{name:"model",rawName:"v-model",value:e.expression,expression:"expression"}],attrs:{type:"text"},domProps:{value:e.expression},on:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:(t.preventDefault(),e.search(t))},input:function(t){t.target.composing||(e.expression=t.target.value)}}}),e._v(" "),n("span",{directives:[{name:"show",rawName:"v-show",value:e.loading,expression:"loading"}]},[n("i",{staticClass:"icon-spinner animate-spin"})]),e._v(" "),n("div",{directives:[{name:"show",rawName:"v-show",value:e.organizations.length>0&&e.showSelector,expression:"organizations.length > 0 && showSelector"}],staticClass:"choose",staticStyle:{position:"absolute","z-index":"3000"}},e._l(e.organizations,function(t){return n("div",{key:t.id,staticClass:"choice",on:{click:function(n){return n.preventDefault(),n.stopPropagation(),e.handlerSelectPerson(t)}}},[n("div",{staticClass:"infos"},[n("strong",[e._v(e._s(t.label))])])])}),0)])},a=[],r={render:i,staticRenderFns:a};t.a=r},function(e,t,n){"use strict";var i=n(4),a=n(11),r=n(0),s=r(i.a,a.a,!1,null,null,null);t.a=s.exports},function(e,t,n){"use strict";var i=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("input",{directives:[{name:"model",rawName:"v-model",value:e.expression,expression:"expression"}],attrs:{type:"text"},domProps:{value:e.expression},on:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:(t.preventDefault(),e.search(t))},input:function(t){t.target.composing||(e.expression=t.target.value)}}}),e._v(" "),n("span",{directives:[{name:"show",rawName:"v-show",value:e.loading,expression:"loading"}]},[n("i",{staticClass:"icon-spinner animate-spin"})]),e._v(" "),n("div",{directives:[{name:"show",rawName:"v-show",value:e.persons.length>0&&e.showSelector,expression:"persons.length > 0 && showSelector"}],staticClass:"choose",staticStyle:{position:"absolute","z-index":"3000","max-height":"400px",overflow:"hidden","overflow-y":"scroll"}},e._l(e.persons,function(t){return n("div",{key:t.id,staticClass:"choice",on:{click:function(n){return n.preventDefault(),n.stopPropagation(),e.handlerSelectPerson(t)}}},[n("img",{staticStyle:{width:"50px",height:"50px"},attrs:{src:"https://www.gravatar.com/avatar/"+t.mailMd5+"?s=50",alt:t.displayname}}),e._v(" "),n("div",{staticClass:"infos"},[n("strong",{staticStyle:{"font-weight":"700","font-size":"1.1em"}},[e._v(e._s(t.displayname))]),n("br"),e._v(" "),n("span",{staticStyle:{"font-weight":"100","font-size":".8em"}},[n("i",{staticClass:"icon-location"}),e._v("\n                    "+e._s(t.affectation)+"\n                    "),t.ucbnSiteLocalisation?n("span",[e._v(" ~ "+e._s(t.ucbnSiteLocalisation))]):e._e()]),n("br"),e._v(" "),n("em",{staticStyle:{"font-weight":"100","font-size":".8em"}},[n("i",{staticClass:"icon-mail"}),e._v(e._s(t.email))])])])}),0)])},a=[],r={render:i,staticRenderFns:a};t.a=r},function(e,t,n){"use strict";function i(e){n(13)}var a=n(5),r=n(14),s=n(0),o=i,l=s(a.a,r.a,!1,o,"data-v-5bc1d1c4",null);t.a=l.exports},function(e,t){},function(e,t,n){"use strict";var i=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{on:{mouseenter:e.handlerShow,mouseleave:e.handlerHide}},[n("div",{staticClass:"input-group"},[n("input",{directives:[{name:"model",rawName:"v-model",value:e.renderValue,expression:"renderValue"}],staticClass:"form-control",attrs:{type:"text"},domProps:{value:e.renderValue},on:{input:function(t){t.target.composing||(e.renderValue=t.target.value)}}}),e._v(" "),e._m(0)]),e._v(" "),n("div",{directives:[{name:"show",rawName:"v-show",value:e.picker,expression:"picker"}],staticClass:"datepicker-selector",on:{mouseleave:e.handlerHide}},[n("div",{staticClass:"datepicker-wrapper"},[n("header",[n("nav",[n("span",{attrs:{href:"#"},on:{click:function(t){return t.stopPropagation(),t.preventDefault(),e.pickerPrevMonth(t)}}},[n("i",{staticClass:"icon-angle-left"})]),e._v(" "),n("strong",{staticClass:"heading"},[n("span",{staticClass:"currentMonth",on:{click:function(t){return t.stopPropagation(),e.handlerPickerMonth(t)}}},[e._v(e._s(e.currentMonth))]),e._v(" "),n("span",{staticClass:"currentYear",on:{click:function(t){return t.stopPropagation(),e.handlerPickerYear(t)}}},[e._v(e._s(e.currentYear))])]),e._v(" "),n("span",{attrs:{href:"#"},on:{click:function(t){return t.stopPropagation(),e.pickerNextMonth(t)}}},[n("i",{staticClass:"icon-angle-right"})])]),e._v(" "),"day"==e.pickerMode?n("div",{staticClass:"day-labels week"},[n("span",{staticClass:"week-label"},[e._v(" ")]),e._v(" "),e._l(e.pickerData.dayslabels,function(t){return n("span",{staticClass:"day-label"},[e._v(e._s(t))])})],2):e._e()]),e._v(" "),"day"==e.pickerMode?n("section",e._l(e.pickerData.weeks,function(t){return n("div",{staticClass:"weeks"},[n("span",{staticClass:"week"},[n("span",{staticClass:"week-label"},[e._v(e._s(t.num))]),e._v(" "),e._l(t.days,function(t){return n("span",{staticClass:"week-day",class:{active:t.active,disabled:!t.enabled},on:{click:function(n){return n.preventDefault(),n.stopPropagation(),e.changeDate(t.date)}}},[e._v("\n                              "+e._s(t.day)+"\n                            ")])})],2)])}),0):e._e(),e._v(" "),"month"==e.pickerMode?n("section",{staticClass:"months"},e._l(e.months,function(t){return n("span",{staticClass:"month",class:{active:e.pickerMonthRef==t},on:{click:function(n){return n.preventDefault(),n.stopPropagation(),e.handlerSelectMonth(t)}}},[e._v("\n                      "+e._s(t)+"\n                    ")])}),0):e._e(),e._v(" "),"year"==e.pickerMode?n("section",{staticClass:"years"},[n("span",{staticClass:"year",on:{click:function(t){t.preventDefault(),t.stopPropagation(),e.pickerYearRef-=22}}},[e._v("<<")]),e._v(" "),e._l(e.years,function(t){return n("span",{staticClass:"year",class:{active:e.pickerYearRef==t},on:{click:function(n){return n.preventDefault(),n.stopPropagation(),e.handlerSelectYear(t)}}},[e._v("\n                      "+e._s(t)+"\n                    ")])}),e._v(" "),n("span",{staticClass:"year",on:{click:function(t){t.preventDefault(),t.stopPropagation(),e.pickerYearRef+=22}}},[e._v(">>")])],2):e._e()]),e._v(" "),n("div",{staticStyle:{"text-align":"center",cursor:"pointer"},on:{click:e.handlerClear}},[n("i",{staticClass:"icon-cancel-alt"}),e._v("\n            Supprimer la date\n        ")])])])},a=[function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"input-group-addon"},[n("i",{staticClass:"icon-calendar"})])}],r={render:i,staticRenderFns:a};t.a=r},function(e,t,n){"use strict";var i=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("code",[e._v(e._s(e.entityEdited))]),e._v(" "),e.entityDelete?n("div",{staticClass:"overlay"},[n("div",{staticClass:"overlay-content"},[n("i",{staticClass:"icon-cancel-outline overlay-closer",on:{click:function(t){e.entityDelete=null}}}),e._v(" "),n("h2",[e._v("Supprimer le rôle "),n("strong",[e._v(e._s(e.entityDelete.role))]),e._v(" de "),n("strong",[e._v(e._s(e.entityDelete.enrolledLabel))]),e._v(" ?")]),e._v(" "),n("nav",{staticClass:"admin-bar"},[n("button",{staticClass:"btn btn-default button-back",on:{click:function(t){e.entityDelete=null}}},[n("i",{staticClass:"icon-angle-left"}),e._v("\n                    Annuler\n                ")]),e._v(" "),n("button",{staticClass:"btn btn-primary",on:{click:e.performDelete}},[n("i",{staticClass:"icon-trash"}),e._v("\n                    Confirmer la suppression\n                ")])])])]):e._e(),e._v(" "),e.error?n("div",{staticClass:"overlay"},[n("div",{staticClass:"overlay-content"},[n("i",{staticClass:"icon-cancel-outline overlay-closer",on:{click:function(t){e.error=""}}}),e._v(" "),n("h2",[e._v("Erreur : "),n("strong",[e._v(e._s(e.error))])]),e._v(" "),n("nav",{staticClass:"admin-bar"},[n("button",{staticClass:"btn btn-default button-back",on:{click:function(t){e.error=""}}},[n("i",{staticClass:"icon-angle-left"}),e._v("\n                    Annuler\n                ")])])])]):e._e(),e._v(" "),e.entityEdited?n("div",{staticClass:"overlay"},[n("div",{staticClass:"overlay-content",staticStyle:{overflow:"visible"}},[n("i",{staticClass:"icon-cancel-outline overlay-closer",on:{click:function(t){e.entityEdited=null}}}),e._v(" "),n("form",{attrs:{action:e.entityEdited.urlEdit,method:"post"},on:{submit:function(t){return t.preventDefault(),e.performEdit(t)}}},[n("h2",[e.entityEdited.enrolledLabel?n("span",[e._v("\n                        Modifier "),n("strong",[e._v(e._s(e.entityEdited.enrolledLabel))]),e._v("\n                        en tant que "),n("em",[e._v(e._s(e.entityEdited.role))])]):e._e()]),e._v(" "),n("input",{directives:[{name:"model",rawName:"v-model",value:e.entityEdited.enrolled,expression:"entityEdited.enrolled"}],staticClass:"form-control select2",attrs:{type:"hidden",name:"enroled"},domProps:{value:e.entityEdited.enrolled},on:{input:function(t){t.target.composing||e.$set(e.entityEdited,"enrolled",t.target.value)}}}),e._v(" "),n("div",{staticClass:"row"},[n("div",{staticClass:"col-md-6"},[n("div",{staticClass:"form-group"},[n("label",{staticClass:" control-label",attrs:{for:"role"}},[e._v("Rôle")]),e._v(" "),n("select",{directives:[{name:"model",rawName:"v-model",value:e.entityEdited.roleId,expression:"entityEdited.roleId"}],staticClass:" form-control",attrs:{name:"role"},on:{change:function(t){var n=Array.prototype.filter.call(t.target.options,function(e){return e.selected}).map(function(e){return"_value"in e?e._value:e.value});e.$set(e.entityEdited,"roleId",t.target.multiple?n:n[0])}}},e._l(e.roles,function(t,i){return n("option",{domProps:{value:i}},[e._v("\n                                    "+e._s(t)+"\n                                ")])}),0)])]),e._v(" "),n("div",{staticClass:"col-md-6"},[n("div",{staticClass:"form-group"},[n("label",{staticClass:"form-label control-label",attrs:{for:"dateStart"}},[e._v("Date de début")]),e._v(" "),n("datepicker",{attrs:{moment:e.moment,value:e.entityEdited.start},on:{input:function(t){e.entityEdited.start=t}}})],1),e._v(" "),n("div",{staticClass:"form-group"},[n("label",{staticClass:"form-label control-label",attrs:{for:"dateEnd"}},[e._v("Date de fin")]),e._v(" "),n("datepicker",{attrs:{moment:e.moment,value:e.entityEdited.end},on:{input:function(t){e.entityEdited.end=t}}})],1)])]),e._v(" "),n("nav",{staticClass:"admin-bar"},[n("button",{staticClass:"btn btn-default button-back",on:{click:function(t){e.entityEdited=null}}},[n("i",{staticClass:"icon-angle-left"}),e._v("\n                        Annuler\n                    ")]),e._v(" "),e._m(0)])])])]):e._e(),e._v(" "),e.entityNew?n("div",{staticClass:"overlay"},[n("div",{staticClass:"overlay-content",staticStyle:{overflow:"visible"}},[n("i",{staticClass:"icon-cancel-outline overlay-closer",on:{click:function(t){e.entityNew=null}}}),e._v(" "),n("h2",[e._v("Rôle de "),n("strong",[e._v(e._s(e.entityNew.enroledLabel))]),e._v(" : ")]),e._v(" "),n("input",{directives:[{name:"model",rawName:"v-model",value:e.entityNew.enrolled,expression:"entityNew.enrolled"}],staticClass:"form-control select2",attrs:{type:"hidden",name:"enroled"},domProps:{value:e.entityNew.enrolled},on:{input:function(t){t.target.composing||e.$set(e.entityNew,"enrolled",t.target.value)}}}),e._v(" "),n("div",{staticClass:"row"},[n("div",{staticClass:"col-md-6"},[e.entityNew.enroledLabel?n("span",{staticClass:"cartouche"},[e._v("\n                        "+e._s(e.entityNew.enroledLabel)+"\n                        "),n("i",{staticClass:"icon-cancel-alt icon-clickable",on:{click:e.handlerCancel}}),e._v(" "),e.entityNew.role?n("span",{staticClass:"addon"},[e._v("\n                            "+e._s(e.roles[e.entityNew.role])+"\n                        ")]):e._e()]):n("div",{staticClass:"form-group"},[n("label",{staticClass:" control-label",attrs:{for:"enroled"}},[e._v(e._s(e.title))]),e._v(" "),"Personne"==e.title?n("personselector",{on:{change:function(t){return e.handlerEnrolledSelected(t)}}}):n("organizationselector",{on:{change:function(t){return e.handlerEnrolledSelected(t)}}})],1),e._v(" "),n("div",{staticClass:"form-group"},[n("label",{staticClass:" control-label",attrs:{for:"role"}},[e._v("Rôle")]),e._v(" "),n("select",{directives:[{name:"model",rawName:"v-model",value:e.entityNew.role,expression:"entityNew.role"}],staticClass:" form-control",attrs:{name:"role"},on:{change:function(t){var n=Array.prototype.filter.call(t.target.options,function(e){return e.selected}).map(function(e){return"_value"in e?e._value:e.value});e.$set(e.entityNew,"role",t.target.multiple?n:n[0])}}},e._l(e.roles,function(t,i){return n("option",{domProps:{value:i}},[e._v("\n                                "+e._s(t)+"\n                            ")])}),0)])]),e._v(" "),n("div",{staticClass:"col-md-6"},[n("div",{staticClass:"form-group"},[n("label",{staticClass:"form-label control-label",attrs:{for:"dateStart"}},[e._v("Date de début")]),e._v(" "),n("datepicker",{attrs:{moment:e.moment,value:e.entityNew.start},on:{input:function(t){e.entityNew.start=t}}})],1),e._v(" "),n("div",{staticClass:"form-group"},[n("label",{staticClass:"form-label control-label",attrs:{for:"dateEnd"}},[e._v("Date de fin")]),e._v(" "),n("datepicker",{attrs:{moment:e.moment,value:e.entityNew.end},on:{input:function(t){e.entityNew.end=t}}})],1)])]),e._v(" "),n("nav",{staticClass:"admin-bar"},[n("button",{staticClass:"btn btn-default button-back",on:{click:function(t){e.entityNew=null}}},[n("i",{staticClass:"icon-angle-left"}),e._v("\n                    Annuler\n                ")]),e._v(" "),n("button",{staticClass:"btn btn-primary",attrs:{type:"submit"},on:{click:e.performNew}},[n("i",{staticClass:"icon-floppy"}),e._v("\n                    Enregistrer\n                ")])])])]):e._e(),e._v(" "),n("nav",{staticClass:"admin-bar text-right"},[n("a",{staticClass:"oscar-link",on:{click:function(t){return e.handlerNew()}}},[n("i",{staticClass:"icon-doc-add"}),e._v("\n            Nouveau\n        ")])]),e._v(" "),e._l(e.entities,function(t){return n("span",{staticClass:"cartouche",class:{primary:t.rolePrincipal}},["activity"==t.context?n("i",{staticClass:"icon-cube"}):n("i",{staticClass:"icon-cubes"}),e._v(" "),t.urlShow?n("span",{staticClass:"text-clickable",on:{click:function(n){return e.open(t.urlShow)}}},[e._v(e._s(t.enrolledLabel))]):n("span",[e._v(e._s(t.enrolledLabel))]),e._v(" "),n("span",{staticClass:"addon"},[e._v("\n            "+e._s(t.roleLabel)+"\n            "),t.urlEdit?n("i",{staticClass:"icon-pencil-1 icon-clickable",on:{click:function(n){return e.handlerEdit(t)}}}):e._e(),e._v(" "),t.urlDelete?n("i",{staticClass:"icon-trash icon-clickable",on:{click:function(n){return e.handlerDelete(t)}}}):e._e()])])})],2)},a=[function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("button",{staticClass:"btn btn-primary",attrs:{type:"submit"}},[n("i",{staticClass:"icon-floppy"}),e._v("\n                        Enregistrer\n                    ")])}],r={render:i,staticRenderFns:a};t.a=r}])});
//# sourceMappingURL=EntityWithRole.js.map