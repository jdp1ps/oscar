(function(t,n){"object"==typeof exports&&"object"==typeof module?module.exports=n():"function"==typeof define&&define.amd?define([],n):"object"==typeof exports?exports.timesheetmonthday=n():t.timesheetmonthday=n()})("undefined"!=typeof self?self:this,function(){return function(t){function n(e){if(a[e])return a[e].exports;var s=a[e]={i:e,l:!1,exports:{}};return t[e].call(s.exports,s,s.exports,n),s.l=!0,s.exports}var a={};return n.m=t,n.c=a,n.d=function(t,a,e){n.o(t,a)||Object.defineProperty(t,a,{configurable:!1,enumerable:!0,get:e})},n.n=function(t){var a=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(a,"a",a),a},n.o=function(t,n){return Object.prototype.hasOwnProperty.call(t,n)},n.p="/",n(n.s=1)}([function(t,n,a){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default={name:"TimesheetMonthDay",props:{day:{require:!0}},filters:{duration:function(t){var n=Math.floor(t),a=Math.round(60*(t-n));return a<10&&(a="0"+a),n+":"+a}},computed:{totalEnseignement:function(){var t=0;return this.day.teaching.forEach(function(n){t+=n.duration}),t},totalInfo:function(){var t=0;return this.day.infos.forEach(function(n){t+=n.duration}),t},totalFormation:function(){var t=0;return this.day.training.forEach(function(n){t+=n.duration}),t},totalVacations:function(){var t=0;return this.day.vacations.forEach(function(n){t+=n.duration}),t},totalSickleave:function(){var t=0;return this.day.sickleave.forEach(function(n){t+=n.duration}),t},totalAbsent:function(){var t=0;return this.day.absent.forEach(function(n){t+=n.duration}),t},totalResearch:function(){var t=0;return this.day.research.forEach(function(n){t+=n.duration}),t},groupProject:function(){var t={};return this.day.declarations.forEach(function(n){t.hasOwnProperty(n.acronym)||(t[n.acronym]={label:n.label,acronym:n.acronym,duration:0,status_id:n.status_id}),n.status_id!=t[n.acronym].status_id&&(t[n.acronym].status_id=0),t[n.acronym].duration+=n.duration}),t}},methods:{handlerClick:function(){this.$emit("selectDay",this.day)},handlerRightClick:function(t){this.$emit("daymenu",t,this.day)}}}},function(t,n,a){t.exports=a(2)},function(t,n,a){"use strict";function e(t){a(3)}Object.defineProperty(n,"__esModule",{value:!0});var s=a(0),o=a.n(s);for(var r in s)"default"!==r&&function(t){a.d(n,t,function(){return s[t]})}(r);var i=a(5),c=a(4),d=e,u=c(o.a,i.a,!1,d,"data-v-6e62cbeb",null);n.default=u.exports},function(t,n){},function(t,n){t.exports=function(t,n,a,e,s,o){var r,i=t=t||{},c=typeof t.default;"object"!==c&&"function"!==c||(r=t,i=t.default);var d="function"==typeof i?i.options:i;n&&(d.render=n.render,d.staticRenderFns=n.staticRenderFns,d._compiled=!0),a&&(d.functional=!0),s&&(d._scopeId=s);var u;if(o?(u=function(t){t=t||this.$vnode&&this.$vnode.ssrContext||this.parent&&this.parent.$vnode&&this.parent.$vnode.ssrContext,t||"undefined"==typeof __VUE_SSR_CONTEXT__||(t=__VUE_SSR_CONTEXT__),e&&e.call(this,t),t&&t._registeredComponents&&t._registeredComponents.add(o)},d._ssrRegister=u):e&&(u=e),u){var l=d.functional,f=l?d.render:d.beforeCreate;l?(d._injectStyles=u,d.render=function(t,n){return u.call(n),f(t,n)}):d.beforeCreate=f?[].concat(f,u):[u]}return{esModule:r,exports:i,options:d}}},function(t,n,a){"use strict";var e=function(){var t=this,n=t.$createElement,a=t._self._c||n;return a("div",{staticClass:"day",class:{locked:t.day.locked},on:{click:[t.handlerClick,function(n){if(!n.shiftKey)return null;n.preventDefault(),n.stopPropagation(),t.$emit("debug",t.day)}],contextmenu:function(n){return n.preventDefault(),t.handlerRightClick(n)}}},[a("span",{staticClass:"label"},[t._v(t._s(t.day.label))]),t._v(" "),t._l(t.groupProject,function(n){return a("span",{staticClass:"cartouche wp xs",class:{conflict:3==n.status_id},attrs:{title:n.label}},[a("i",{class:"icon-status-"+n.status_id}),t._v("\n        "+t._s(n.acronym)+"\n        "),a("span",{staticClass:"addon"},[t._v("\n            "+t._s(t._f("duration2")(n.duration,t.day.dayLength))+"\n        ")])])}),t._v(" "),t.day.teaching.length?a("span",{staticClass:"cartouche teaching xs",attrs:{title:"Enseignement"}},[t._v("\n        Cours\n        "),a("span",{staticClass:"addon"},[t._v("\n            "+t._s(t._f("duration2")(t.totalEnseignement,t.day.dayLength))+"\n        ")])]):t._e(),t._v(" "),t.day.infos.length?a("span",{staticClass:"cartouche info xs",attrs:{title:"Infos"}},[t._v("\n        Infos\n        "),a("span",{staticClass:"addon"},[t._v("\n            "+t._s(t._f("duration2")(t.totalInfo,t.day.dayLength))+"\n        ")])]):t._e(),t._v(" "),t.day.training.length?a("span",{staticClass:"cartouche training xs",attrs:{title:"Formation"}},[t._v("\n        Formation\n        "),a("span",{staticClass:"addon"},[t._v("\n            "+t._s(t._f("duration2")(t.totalFormation,t.day.dayLength))+"\n        ")])]):t._e(),t._v(" "),t.day.vacations.length?a("span",{staticClass:"cartouche vacations xs",attrs:{title:"Congès"}},[t._v("\n        Congès\n        "),a("span",{staticClass:"addon"},[t._v("\n            "+t._s(t._f("duration2")(t.totalVacations,t.day.dayLength))+"\n        ")])]):t._e(),t._v(" "),t.day.sickleave.length?a("span",{staticClass:"cartouche sickleave xs",attrs:{title:"Arrêt maladie"}},[t._v("\n        A.Maladie\n        "),a("span",{staticClass:"addon"},[t._v("\n           "+t._s(t._f("duration2")(t.totalSickleave,t.day.dayLength))+"\n        ")])]):t._e(),t._v(" "),t.day.absent.length?a("span",{staticClass:"cartouche sickleave xs",attrs:{title:"Absence"}},[t._v("\n        Abs\n        "),a("span",{staticClass:"addon"},[t._v("\n             "+t._s(t._f("duration2")(t.totalAbsent,t.day.dayLength))+"\n        ")])]):t._e(),t._v(" "),t.day.research.length?a("span",{staticClass:"cartouche research xs",attrs:{title:"Autre projet de recherche"}},[t._v("\n        Recherche\n        "),a("span",{staticClass:"addon"},[t._v("\n             "+t._s(t._f("duration2")(t.totalResearch,t.day.dayLength))+"\n        ")])]):t._e(),t._v(" "),t.day.closed?a("span",{staticStyle:{"font-size":".7em"},attrs:{title:t.day.lockedReason}},[a("i",{staticClass:"icon-minus-circled"}),t._v("\n        Fermé\n    ")]):t.day.locked?a("span",{staticStyle:{"font-size":".7em"},attrs:{title:t.day.lockedReason}},[a("i",{staticClass:"icon-lock"}),t._v("\n        Verrouillé\n    ")]):t._e(),t._v("\n     \n")],2)},s=[],o={render:e,staticRenderFns:s};n.a=o}])});
//# sourceMappingURL=TimesheetMonthDay.js.map