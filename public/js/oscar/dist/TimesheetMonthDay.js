(function(t,n){"object"==typeof exports&&"object"==typeof module?module.exports=n():"function"==typeof define&&define.amd?define([],n):"object"==typeof exports?exports.timesheetmonthday=n():t.timesheetmonthday=n()})("undefined"!=typeof self?self:this,function(){return function(t){function n(a){if(e[a])return e[a].exports;var o=e[a]={i:a,l:!1,exports:{}};return t[a].call(o.exports,o,o.exports,n),o.l=!0,o.exports}var e={};return n.m=t,n.c=e,n.d=function(t,e,a){n.o(t,e)||Object.defineProperty(t,e,{configurable:!1,enumerable:!0,get:a})},n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,n){return Object.prototype.hasOwnProperty.call(t,n)},n.p="/",n(n.s=1)}([function(t,n,e){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default={name:"TimesheetMonthDay",props:{others:{required:!0},day:{require:!0}},filters:{duration:function(t){var n=Math.floor(t),e=Math.round(60*(t-n));return e<10&&(e="0"+e),n+":"+e}},computed:{totalEnseignement:function(){var t=0;return this.day.teaching.forEach(function(n){t+=n.duration}),t},totalInfo:function(){var t=0;return this.day.infos.forEach(function(n){t+=n.duration}),t},totalFormation:function(){var t=0;return this.day.training.forEach(function(n){t+=n.duration}),t},totalConges:function(){var t=0;return this.day.conges.forEach(function(n){t+=n.duration}),t},totalSickleave:function(){var t=0;return this.day.sickleave.forEach(function(n){t+=n.duration}),t},totalAbsent:function(){var t=0;return this.day.absent.forEach(function(n){t+=n.duration}),t},totalResearch:function(){var t=0;return this.day.research.forEach(function(n){t+=n.duration}),t},groupProject:function(){var t={};return this.day.declarations&&this.day.declarations.forEach(function(n){t.hasOwnProperty(n.acronym)||(t[n.acronym]={label:n.label,acronym:n.acronym,duration:0,status_id:n.status_id}),n.status_id!=t[n.acronym].status_id&&(t[n.acronym].status_id=0),t[n.acronym].duration+=n.duration}),t}},methods:{totalOther:function(t){var n=0;return this.day[t].forEach(function(t){n+=t.duration}),n},handlerClick:function(){this.$emit("selectDay",this.day)},handlerRightClick:function(t){this.$emit("daymenu",t,this.day)}}}},function(t,n,e){t.exports=e(2)},function(t,n,e){"use strict";function a(t){e(3)}Object.defineProperty(n,"__esModule",{value:!0});var o=e(0),r=e.n(o);for(var s in o)"default"!==s&&function(t){e.d(n,t,function(){return o[t]})}(s);var i=e(5),c=e(4),u=a,d=c(r.a,i.a,!1,u,"data-v-4c18458a",null);n.default=d.exports},function(t,n){},function(t,n){t.exports=function(t,n,e,a,o,r){var s,i=t=t||{},c=typeof t.default;"object"!==c&&"function"!==c||(s=t,i=t.default);var u="function"==typeof i?i.options:i;n&&(u.render=n.render,u.staticRenderFns=n.staticRenderFns,u._compiled=!0),e&&(u.functional=!0),o&&(u._scopeId=o);var d;if(r?(d=function(t){t=t||this.$vnode&&this.$vnode.ssrContext||this.parent&&this.parent.$vnode&&this.parent.$vnode.ssrContext,t||"undefined"==typeof __VUE_SSR_CONTEXT__||(t=__VUE_SSR_CONTEXT__),a&&a.call(this,t),t&&t._registeredComponents&&t._registeredComponents.add(r)},u._ssrRegister=d):a&&(d=a),d){var l=u.functional,f=l?u.render:u.beforeCreate;l?(u._injectStyles=d,u.render=function(t,n){return d.call(n),f(t,n)}):u.beforeCreate=f?[].concat(f,d):[d]}return{esModule:s,exports:i,options:u}}},function(t,n,e){"use strict";var a=function(){var t=this,n=t.$createElement,e=t._self._c||n;return e("div",{staticClass:"day",class:{locked:t.day.locked,error:t.day.total>t.day.maxLength},on:{click:[t.handlerClick,function(n){if(!n.shiftKey)return null;n.preventDefault(),n.stopPropagation(),t.$emit("debug",t.day)}]}},[e("span",{staticClass:"label"},[t._v(t._s(t.day.i))]),t._v(" "),t.day.total>t.day.maxLength?e("span",{staticClass:"text-danger"},[e("i",{staticClass:"icon-attention"}),t._v("\n        Erreur\n    ")]):t._e(),t._v(" "),t._l(t.groupProject,function(n){return e("span",{staticClass:"cartouche wp xs",class:{conflict:3==n.status_id},attrs:{title:n.label}},[e("i",{class:"icon-status-"+n.status_id}),t._v("\n        "+t._s(n.acronym)+"\n        "),e("span",{staticClass:"addon"},[t._v("\n            "+t._s(t._f("duration2")(n.duration,t.day.dayLength))+"\n        ")])])}),t._v(" "),e("span",t._l(t.day.othersWP,function(n){return e("span",{staticClass:"cartouche xs",class:n.code},[null==n.validations?e("i",{staticClass:"icon-status-2"}):"valid"==n.validations.status?e("i",{staticClass:"icon-status-1"}):"conflict"==n.validations.status?e("i",{staticClass:"icon-status-3"}):e("i",{staticClass:"icon-status-5"}),t._v("\n            "+t._s(n.label)+"\n            "),e("span",{staticClass:"addon"},[t._v("\n                "+t._s(t._f("duration2")(n.duration,t.day.dayLength))+"\n            ")])])})),t._v(" "),t.day.closed?e("span",{staticStyle:{"font-size":".7em"},attrs:{title:t.day.lockedReason}},[e("i",{staticClass:"icon-minus-circled"}),t._v("\n        Fermé\n    ")]):t.day.locked?e("span",{staticStyle:{"font-size":".7em"},attrs:{title:t.day.lockedReason}},[e("i",{staticClass:"icon-lock"}),t._v("\n        Verrouillé\n    ")]):t._e(),t._v("\n     \n")],2)},o=[],r={render:a,staticRenderFns:o};n.a=r}])});
//# sourceMappingURL=TimesheetMonthDay.js.map