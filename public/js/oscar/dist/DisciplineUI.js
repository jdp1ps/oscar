(function(t,e){"object"==typeof exports&&"object"==typeof module?module.exports=e():"function"==typeof define&&define.amd?define([],e):"object"==typeof exports?exports.DisciplineUI=e():t.DisciplineUI=e()})("undefined"!=typeof self?self:this,function(){return function(t){function e(i){if(n[i])return n[i].exports;var a=n[i]={i:i,l:!1,exports:{}};return t[i].call(a.exports,a,a.exports,e),a.l=!0,a.exports}var n={};return e.m=t,e.c=n,e.d=function(t,n,i){e.o(t,n)||Object.defineProperty(t,n,{configurable:!1,enumerable:!0,get:i})},e.n=function(t){var n=t&&t.__esModule?function(){return t.default}:function(){return t};return e.d(n,"a",n),n},e.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},e.p="/",e(e.s=1)}([function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={props:{disc:{default:[]}},data:function(){return{formData:null,error:null,deleteData:null}},computed:{disciplines:function(){return this.disc}},methods:{handlerSubmit:function(){var t=this,e=new FormData,n=void 0;e.append("label",this.formData.label),this.formData.id?(e.append("id",this.formData.id),n=this.$http.post("?",e),n.then(function(e){for(var n=0;n<t.disciplines.length;n++)t.disciplines[n].id==t.formData.id&&(t.disciplines[n].label=e.body.discipline.label)})):(n=this.$http.put("?",e),n.then(function(e){t.disciplines.push(e.body.discipline),t.disciplines.sort(function(t,e){return t.label<e.label?-1:t.label==e.label?0:1})})),n.catch(function(e){t.error=e.body}).finally(function(e){console.log("FINAL"),t.formData=null})},handlerNew:function(){this.formData={id:null,label:"",original:null}},handlerEdit:function(t){this.formData={id:t.id,label:t.label,original:t.label}},handlerCancelForm:function(){this.formData=null},handlerDelete:function(t){this.deleteData=t},performDelete:function(){var t=this,e=this.deleteData;this.$http.delete("?id="+e.id).then(function(n){var i=[];t.disciplines.forEach(function(t){t.id!=e.id&&i.push(t)}),t.disc=i},function(e){t.error=e.body}).then(function(e){return t.deleteData=null})}},mounted:function(){}}},function(t,e,n){t.exports=n(2)},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n(0),a=n.n(i);for(var r in i)"default"!==r&&function(t){n.d(e,t,function(){return i[t]})}(r);var l=n(4),s=n(3),o=s(a.a,l.a,!1,null,null,null);e.default=o.exports},function(t,e){t.exports=function(t,e,n,i,a,r){var l,s=t=t||{},o=typeof t.default;"object"!==o&&"function"!==o||(l=t,s=t.default);var c="function"==typeof s?s.options:s;e&&(c.render=e.render,c.staticRenderFns=e.staticRenderFns,c._compiled=!0),n&&(c.functional=!0),a&&(c._scopeId=a);var u;if(r?(u=function(t){t=t||this.$vnode&&this.$vnode.ssrContext||this.parent&&this.parent.$vnode&&this.parent.$vnode.ssrContext,t||"undefined"==typeof __VUE_SSR_CONTEXT__||(t=__VUE_SSR_CONTEXT__),i&&i.call(this,t),t&&t._registeredComponents&&t._registeredComponents.add(r)},c._ssrRegister=u):i&&(u=i),u){var d=c.functional,f=d?c.render:c.beforeCreate;d?(c._injectStyles=u,c.render=function(t,e){return u.call(e),f(t,e)}):c.beforeCreate=f?[].concat(f,u):[u]}return{esModule:l,exports:s,options:c}}},function(t,e,n){"use strict";var i=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("section",[n("h1",[t._v("Disciplines")]),t._v(" "),n("transition",{attrs:{name:"fade"}},[t.formData?n("div",{staticClass:"overlay"},[n("form",{attrs:{action:""},on:{submit:function(e){return e.preventDefault(),t.handlerSubmit(e)}}},[t.formData.original?n("h1",[t._v("Modifier "+t._s(t.formData.original))]):n("h1",[t._v("Nouvelle discipline")]),t._v(" "),n("label",{attrs:{for:"form_label"}},[t._v("Intitulé")]),t._v(" "),n("input",{directives:[{name:"model",rawName:"v-model",value:t.formData.label,expression:"formData.label"}],staticClass:"form-control lg",attrs:{type:"text",id:"form_label"},domProps:{value:t.formData.label},on:{input:function(e){e.target.composing||t.$set(t.formData,"label",e.target.value)}}}),t._v(" "),n("hr"),t._v(" "),n("nav",[n("button",{staticClass:"btn btn-primary",attrs:{type:"submit"}},[n("i",{staticClass:"icon-floppy"}),t._v("\n                        Enregistrer\n                    ")]),t._v(" "),n("button",{staticClass:"btn btn-default",attrs:{type:"reset"},on:{click:function(e){return e.preventDefault(),t.handlerCancelForm(e)}}},[n("i",{staticClass:"icon-cancel-outline"}),t._v("\n                        Annuler\n                    ")])])])]):t._e()]),t._v(" "),n("transition",{attrs:{name:"fade"}},[t.error?n("div",{staticClass:"overlay"},[n("div",{staticClass:"alert alert-danger"},[n("h3",[t._v("Erreur\n                    "),n("a",{staticClass:"float-right",attrs:{href:"#"},on:{click:function(e){e.preventDefault(),t.error=null}}},[n("i",{staticClass:"icon-cancel-outline"})])]),t._v(" "),n("p",[t._v(t._s(t.error))])])]):t._e()]),t._v(" "),n("transition",{attrs:{name:"fade"}},[t.deleteData?n("div",{staticClass:"overlay"},[n("div",{staticClass:"alert alert-danger"},[n("h3",[t._v("Supprimer la discipline "),n("strong",[t._v(t._s(t.deleteData.label))]),t._v(" ?")]),t._v(" "),n("nav",[n("button",{staticClass:"btn btn-danger",attrs:{type:"reset"},on:{click:function(e){e.preventDefault(),t.deleteData=null}}},[n("i",{staticClass:"icon-cancel-outline"}),t._v("\n                        Annuler\n                    ")]),t._v(" "),n("button",{staticClass:"btn btn-success",attrs:{type:"submit"},on:{click:function(e){return e.preventDefault(),t.performDelete(e)}}},[n("i",{staticClass:"icon-ok-circled"}),t._v("\n                        Confirmer\n                    ")])])])]):t._e()]),t._v(" "),t._l(t.disciplines,function(e){return n("article",{staticClass:"card"},[n("h3",{staticClass:"card-title"},[n("span",[t._v("\n                ["+t._s(e.id)+"]\n                "+t._s(e.label)+"\n                "),n("span",{staticClass:"label"},[t._v(t._s(e.activitiesLng))])]),t._v(" "),n("small",[n("a",{attrs:{href:"#"},on:{click:function(n){n.preventDefault(),t.handlerEdit(e)}}},[n("i",{staticClass:"icon-pencil"}),t._v("\n                    Éditer")]),t._v(" "),n("a",{attrs:{href:"#"},on:{click:function(n){n.preventDefault(),t.handlerDelete(e)}}},[n("i",{staticClass:"icon-trash"}),t._v("\n                    Supprimer")])])]),t._v(" "),n("div",{staticClass:"card-content"},[t._v("\n            "+t._s(e.activitiesLng)+" activité(s) dans cette discipline\n        ")])])}),t._v(" "),n("hr"),t._v(" "),n("button",{staticClass:"btn btn-primary",attrs:{type:"button"},on:{click:function(e){return e.preventDefault(),t.handlerNew(e)}}},[n("i",{staticClass:"icon-plus-circled"}),t._v("\n        Nouvelle discipline\n    ")])],2)},a=[],r={render:i,staticRenderFns:a};e.a=r}])});
//# sourceMappingURL=DisciplineUI.js.map