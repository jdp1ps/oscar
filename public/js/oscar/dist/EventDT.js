(function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t():"function"==typeof define&&define.amd?define([],t):"object"==typeof exports?exports.eventdt=t():e.eventdt=t()})("undefined"!=typeof self?self:this,function(){return function(e){function t(n){if(i[n])return i[n].exports;var r=i[n]={i:n,l:!1,exports:{}};return e[n].call(r.exports,r,r.exports,t),r.l=!0,r.exports}var i={};return t.m=e,t.c=i,t.d=function(e,i,n){t.o(e,i)||Object.defineProperty(e,i,{configurable:!1,enumerable:!0,get:n})},t.n=function(e){var i=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(i,"a",i),i},t.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},t.p="/",t(t.s=0)}([function(e,t,i){e.exports=i(1)},function(e,t,i){"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,i,n){return i&&e(t.prototype,i),n&&e(t,n),t}}(),d=function(){function e(t){n(this,e),this.sync(t)}return r(e,[{key:"inWeek",value:function(e,t){var i=this.mmStart.unix(),n=this.mmEnd.unix(),r=moment().year(e).week(t).startOf("week"),d=r.unix(),a=r.endOf("week").unix();return!(i>a||n<d)&&(i<a||n>d)}},{key:"overlap",value:function(e){var t=this.mmStart.unix(),i=this.mmEnd.unix(),n=e.mmStart.unix();return t<e.mmEnd.unix()&&n<i}},{key:"isBefore",value:function(e){return this.mmStart<e.mmStart}},{key:"sync",value:function(t){this.id=t.id,this.label=t.label,this.description="undefined"==t.description?"":t.description,this.start=t.start,this.end=t.end,this.icsfileuid=t.icsfileuid,this.icsfilename=t.icsfilename,this.icsfiledateadded=t.icsfiledateadded,this.icsuid=t.icsuid,this.status=t.status,this.uid||(this.uid=e.UID++),this.workpackageId=t.workpackage_id||null,this.workpackageCode=t.workpackage_code||null,this.workpackageLabel=t.workpackage_label||null,this.activityId=t.activity_id||null,this.activityLabel=t.activity_label||null,this.owner=t.owner,this.owner_id=t.owner_id,this.decaleY=0,this.rejectedComment=t.rejectedComment,this.rejectedCommentAt=t.rejectedCommentAt,this.rejectedAdminComment=t.rejectedAdminComment,this.rejectedAdminCommentAt=t.rejectedAdminCommentAt,this.rejectedSciComment=t.rejectedSciComment,this.rejectedSciAt=t.rejectedSciAt,this.rejectedSciBy=t.rejectedSciBy,this.rejectedAdminComment=t.rejectedAdminComment,this.rejectedAdminAt=t.rejectedAdminAt,this.rejectedAdminBy=t.rejectedAdminBy,this.validatedSciAt=t.validatedSciAt,this.validatedSciBy=t.validatedSciBy,this.validatedAdminAt=t.validatedAdminAt,this.validatedAdminBy=t.validatedAdminBy,this.editable=!1,this.deletable=!1,this.validable=!1,this.validableAdm=!1,this.validableSci=!1,this.sendable=!1,t.credentials&&(this.editable=t.credentials.editable,this.deletable=t.credentials.deletable,this.validable=!1,this.validableAdm=t.credentials.validableAdm,this.validableSci=t.credentials.validableSci,this.sendable=t.credentials.sendable)}},{key:"isLocked",get:function(){return!(this.sendable||this.validableAdm||this.validableSci||this.editable||this.deletable)}},{key:"isSend",get:function(){return"send"==this.status}},{key:"isInfo",get:function(){return"info"==this.status}},{key:"isValidSci",get:function(){return null!=this.validatedSciAt}},{key:"isValidAdmin",get:function(){return null!=this.validatedAdminAt}},{key:"isRejecteSci",get:function(){return null!=this.rejectedSciAt}},{key:"isRejecteAdmin",get:function(){return null!=this.rejectedAdminAt}},{key:"isValid",get:function(){return this.isValidAdmin&&this.isValidSci}},{key:"isReject",get:function(){return this.isRejecteAdmin||this.isRejecteSci}},{key:"mmStart",get:function(){return moment(this.start)}},{key:"mmEnd",get:function(){return moment(this.end)}},{key:"durationMinutes",get:function(){return(this.mmEnd.unix()-this.mmStart.unix())/60}},{key:"duration",get:function(){return this.durationMinutes/60}},{key:"dayTime",get:function(){return"de "+this.mmStart.format("hh:mm")+" Ã  "+this.mmEnd.format("hh:mm")+", le "+this.mmStart.format("dddd D MMMM YYYY")}}],[{key:"first",value:function(e){var t=null;return e.forEach(function(e){null==t?t=e:e.isBefore(t)&&(t=e)}),t}},{key:"sortByStart",value:function(e){return e.sort(function(e,t){return e.mmStart<t.mmStart?-1:e.mmStart>t.mmStart?1:0})}}]),e}();d.UID=1,t.default=d}])});
//# sourceMappingURL=EventDT.js.map