(function(t,n){"object"==typeof exports&&"object"==typeof module?module.exports=n():"function"==typeof define&&define.amd?define([],n):"object"==typeof exports?exports.ResumeActivity=n():t.ResumeActivity=n()})("undefined"!=typeof self?self:this,function(){return function(t){function n(s){if(e[s])return e[s].exports;var o=e[s]={i:s,l:!1,exports:{}};return t[s].call(o.exports,o,o.exports,n),o.l=!0,o.exports}var e={};return n.m=t,n.c=e,n.d=function(t,e,s){n.o(t,e)||Object.defineProperty(t,e,{configurable:!1,enumerable:!0,get:s})},n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,n){return Object.prototype.hasOwnProperty.call(t,n)},n.p="/",n(n.s=1)}([function(t,n,e){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var s={none:"Non-envoyé","send-prj":"Validation projet","send-sci":"Validation scientifique","send-adm":"Validation administrative",conflict:"Conflit",valid:"Validée"};n.default={data:function(){return{datas:null}},filters:{state:function(t){return s[t]}},computed:{grouped:function(){var t=this,n={};return Object.keys(this.datas.periods).forEach(function(e){var s=e.split("-"),o=s[0],a=t.datas.periods[e];n.hasOwnProperty(o)||(n[o]={year:o,total:0,totalWps:{},months:{}},Object.keys(t.datas.workspackages).forEach(function(t){n[o].totalWps[t]=0}));var r={period:e,totalWps:{},persons:{},total:0};a.total>0&&(Object.keys(t.datas.workspackages).forEach(function(t){r.totalWps[t]=0}),Object.keys(a.persons).forEach(function(t){var e=a.persons[t];if(e.total>0){console.log(JSON.stringify(e));var s={displayname:e.displayname,state:e.validation_state,total:0,totalWps:{}};Object.keys(e.workpackages).forEach(function(t){var a=e.workpackages[t];n[o].total+=a,n[o].totalWps[t]+=a,s.totalWps[t]=a,r.totalWps[t]+=a,s.total+=a,r.total+=a}),r.persons[t]=s}})),n[o].months[e]=r}),n}},methods:{fetch:function(){var t=this;this.$http.get("").then(function(n){t.datas=n.body},function(t){console.log(t)})}},mounted:function(){this.fetch()}}},function(t,n,e){t.exports=e(2)},function(t,n,e){"use strict";function s(t){e(3)}Object.defineProperty(n,"__esModule",{value:!0});var o=e(0),a=e.n(o);for(var r in o)"default"!==r&&function(t){e.d(n,t,function(){return o[t]})}(r);var i=e(5),l=e(4),c=s,u=l(a.a,i.a,!1,c,null,null);n.default=u.exports},function(t,n){},function(t,n){t.exports=function(t,n,e,s,o,a){var r,i=t=t||{},l=typeof t.default;"object"!==l&&"function"!==l||(r=t,i=t.default);var c="function"==typeof i?i.options:i;n&&(c.render=n.render,c.staticRenderFns=n.staticRenderFns,c._compiled=!0),e&&(c.functional=!0),o&&(c._scopeId=o);var u;if(a?(u=function(t){t=t||this.$vnode&&this.$vnode.ssrContext||this.parent&&this.parent.$vnode&&this.parent.$vnode.ssrContext,t||"undefined"==typeof __VUE_SSR_CONTEXT__||(t=__VUE_SSR_CONTEXT__),s&&s.call(this,t),t&&t._registeredComponents&&t._registeredComponents.add(a)},c._ssrRegister=u):s&&(u=s),u){var d=c.functional,f=d?c.render:c.beforeCreate;d?(c._injectStyles=u,c.render=function(t,n){return u.call(n),f(t,n)}):c.beforeCreate=f?[].concat(f,u):[u]}return{esModule:r,exports:i,options:c}}},function(t,n,e){"use strict";var s=function(){var t=this,n=t.$createElement,e=t._self._c||n;return e("div",[t.datas?t._l(t.grouped,function(n,s){return e("div",{staticClass:"year"},[e("h1",[t._v(t._s(s))]),t._v(" "),t._l(n.months,function(n,s){return e("section",{staticClass:"month card"},[e("div",{staticClass:"line line-heading"},[e("strong",{staticClass:"line-label"},[t._v(t._s(t._f("period")(s)))]),t._v(" "),t._l(n.totalWps,function(n,s){return e("span",[t._v(t._s(t.datas.workspackages[s].code))])}),t._v(" "),e("span",{staticClass:"total duration"},[t._v(" ")])],2),t._v(" "),n.total>0?t._l(n.persons,function(n){return e("div",{staticClass:"line line-datas"},[e("strong",{staticClass:"line-label"},[e("i",{staticClass:"icon-user"}),t._v("\n                            "+t._s(n.displayname)+"\n                            "),e("small",[e("i",{class:"icon-"+n.state}),t._v("\n                                "+t._s(t._f("state")(n.state))+"\n                            ")])]),t._v(" "),t._l(n.totalWps,function(n){return e("span",{staticClass:"duration",class:{nothing:0==n}},[t._v("\n                            "+t._s(t._f("duration")(n))+"\n                        ")])}),t._v(" "),e("span",{staticClass:"duration total"},[n.total>0?e("strong",[t._v(t._s(t._f("duration")(n.total)))]):e("small",[t._v("0.0")])])],2)}):t._e(),t._v(" "),e("div",{staticClass:"line line-total"},[e("strong",{staticClass:"line-label"},[t._v("Total")]),t._v(" "),t._l(n.totalWps,function(n){return e("span",{staticClass:"duration"},[e("strong",[t._v(t._s(t._f("duration")(n)))])])}),t._v(" "),e("span",{staticClass:"total duration"},[t._v(t._s(t._f("duration")(n.total)))])],2)],2)})],2)}):t._e()],2)},o=[],a={render:s,staticRenderFns:o};n.a=a}])});
//# sourceMappingURL=ResumeActivity.js.map