(function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t():"function"==typeof define&&define.amd?define([],t):"object"==typeof exports?exports.ImportIcalUI=t():e.ImportIcalUI=t()})("undefined"!=typeof self?self:this,function(){return function(e){function t(n){if(s[n])return s[n].exports;var a=s[n]={i:n,l:!1,exports:{}};return e[n].call(a.exports,a,a.exports,t),a.l=!0,a.exports}var s={};return t.m=e,t.c=s,t.d=function(e,s,n){t.o(e,s)||Object.defineProperty(e,s,{configurable:!1,enumerable:!0,get:n})},t.n=function(e){var s=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(s,"a",s),s},t.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},t.p="/",t(t.s=3)}([function(e,t){e.exports=function(e,t,s,n,a,i){var r,o=e=e||{},l=typeof e.default;"object"!==l&&"function"!==l||(r=e,o=e.default);var c="function"==typeof o?o.options:o;t&&(c.render=t.render,c.staticRenderFns=t.staticRenderFns,c._compiled=!0),s&&(c.functional=!0),a&&(c._scopeId=a);var d;if(i?(d=function(e){e=e||this.$vnode&&this.$vnode.ssrContext||this.parent&&this.parent.$vnode&&this.parent.$vnode.ssrContext,e||"undefined"==typeof __VUE_SSR_CONTEXT__||(e=__VUE_SSR_CONTEXT__),n&&n.call(this,e),e&&e._registeredComponents&&e._registeredComponents.add(i)},c._ssrRegister=d):n&&(d=n),d){var u=c.functional,h=u?c.render:c.beforeCreate;u?(c._injectStyles=d,c.render=function(e,t){return d.call(t),h(e,t)}):c.beforeCreate=h?[].concat(h,d):[d]}return{esModule:r,exports:o,options:c}}},function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={data:function(){return{selectedFile:null,daysString:["SU","MO","TU","WE","TH","FR","SA"],timesheets:null,labelFilter:"",periodEnd:"2018-12",debug:null,labelsCorrespondance:{},editCorrespondance:null}},components:{periodselector:s(5).default},props:{ICAL:{required:!0},moment:{required:!0},dayLength:{required:!0},exists:{default:{}},correspondances:{required:!0},periodStart:{required:!0},periodMax:{required:!0}},computed:{sendData:function(){if(!this.timesheets)return[];var e=[];return this.timesheets.forEach(function(t){t.imported&&e.push(t)}),e},labels:function(){var e=this,t=[];return this.timesheets&&(this.timesheets.forEach(function(s){""!=e.labelFilter&&s.label.toLowerCase().indexOf(e.labelFilter.toLowerCase())<0||t.indexOf(s.label)<0&&t.push(s.label)}),t.sort()),t},byPeriod:function(){var e=this,t={},s={};return this.timesheets&&(this.timesheets.forEach(function(s){var n=e.moment(s.start),a=e.moment(s.end),i=Math.floor((a.unix()-n.unix())/60),r=n.format("YYYY-MM"),o=n.format("MMMM YYYY"),l=n.format("YYYY-MM-DD"),c=n.format("DD"),d=n.format("dddd DD");if(t.hasOwnProperty(r)||(t[r]={validation:!1,existsDatas:e.exists[r],exists:0,period:r,code:r,label:o,days:{},total:0},e.exists.hasOwnProperty(r)&&(t[r].validation=e.exists[r].hasValidation)),!t[r].days.hasOwnProperty(l)){var u=!!e.exists[r]&&e.exists[r].hasValidation;t[r].days[l]={toto:"tata",exists:0,declaration:u,totalImport:0,total:0,closed:!1,closedReason:"",day:l,max:0,code:l,label:d,timesheets:[]},e.exists.hasOwnProperty(r)&&e.exists[r].days.hasOwnProperty(c)&&(t[r].days[l].exists+=60*e.exists[r].days[c].duration,t[r].days[l].total+=60*e.exists[r].days[c].duration,t[r].days[l].closed+=e.exists[r].days[c].closed,t[r].days[l].max=60*e.exists[r].days[c].maxLength,t[r].days[l].closedReason+=e.exists[r].days[c].closedReason)}t[r].days[l].timesheets.push(s),t[r].total+=i,t[r].days[l].total+=i,t[r].days[l].totalImport+=i}),Object.keys(t).sort().forEach(function(e,n){s[e]=t[e];var a={};Object.keys(s[e].days).sort().forEach(function(t){a[t]=s[e].days[t]}),t[e].days=a})),s}},methods:{toggleImported:function(e){1==e.imported?e.imported=!1:1==e.importable&&(e.imported=!0)},handlerPeriodChange:function(e){document.location="?period="+e},handlerRemoveTimesheet:function(e){this.timesheets.splice(this.timesheets.indexOf(e),1)},handlerChangeCorrespondance:function(e,t){this.timesheets.forEach(function(s){s.label==e&&(null==t?(s.destinationCode="",s.destinationId=-1,s.destinationLabel="",s.imported=!1):1==s.importable&&(s.destinationCode=t.code,s.destinationId=t.id,s.destinationLabel=t.label,s.imported=!0))}),this.labelsCorrespondance[e.toLowerCase()]=t,this.editCorrespondance=null},handlerEditCorrespondance:function(e){this.editCorrespondance=e},test:function(){},handlerRemovePeriod:function(e){var t=[];this.timesheets.forEach(function(s){s.periodCode!=e&&t.push(s)}),this.timesheets=t},handlerRemoveLabel:function(e){var t=[];this.timesheets.forEach(function(s){s.label!=e&&t.push(s)}),this.timesheets=t},handlerFileSelected:function(e){var t=this,s=new FileReader;s.onloadend=function(e){t.parseICAL(s.result)},s.readAsText(e.target.files[0])},parseICAL:function(e){var t=this;if(e){var s=this.ICAL,n=this.moment,a=s.parse(e),i=n.tz.guess(),r=[],o=[],l=a[1][0][3],c=a[1][1][3],d=n().format("YYYY-MM-DD");a[2].forEach(function(e){var s={icsfileuid:c,icsfilename:l,icsfiledateaddedd:d,warnings:[]},a=null,u=[];if("vevent"==e[0])if(e[1].forEach(function(e){if("uid"==e[0])s.uid=e[3],s.icsuid=e[3];else if("rrule"==e[0])a=e[3];else if("exdate"==e[0]){var t=n.tz(e[3],e[1].tzid);u.push(t.tz(i).toISOString())}else if("organizer"==e[0])s.email=e[3];else if("description"==e[0])s.description=e[3],"undefined"==s.description&&(s.description="");else if("dtstart"==e[0]){var t=n.tz(e[3],e[1].tzid);s.start=t.tz(i).format()}else if("recurrence-id"==e[0]){s.recurenceid=e[2];var t=n.tz(e[3],e[1].tzid);s.exception=t.tz(i).format()}else if("dtend"==e[0]){var t=n.tz(e[3],e[1].tzid);s.end=t.tz(i).format()}else"last-modified"==e[0]?s.lastModified=n(e[3]).format():"summary"==e[0]?s.summary=s.label=e[3]:"x-microsoft-cdo-alldayevent"==e[0]&&(s.daily="allday")}),s.exception)o=o.concat(t.generateItem(s));else if("allday"==s.daily)for(var h=t.moment(s.start),f=t.moment(s.end),p=f.diff(h,"days"),v=h.add(t.dayLength,"hours"),m=null,_=0;_<p;_++)v=t.moment(h).add(60*t.dayLength,"minutes"),m=JSON.parse(JSON.stringify(s)),m.start=t.moment(h),m.end=t.moment(v),r=r.concat(t.generateItem(m)),h.add(1,"days");else r=a?r.concat(t.repeat(s,a,u)):r.concat(t.generateItem(s))});var u=[];r.forEach(function(e){t.periodStart&&(e.periodCode<t.periodStart||e.periodCode>t.periodStart)||u.push(e)}),this.timesheets=u}},generateItem:function(e){var t=this.moment,s=t(e.start),n=t(e.end);if(s.date()!=n.date()){var a=JSON.parse(JSON.stringify(e)),i=JSON.parse(JSON.stringify(e)),r=s.endOf("day");a.end=r.toISOString();var o=r.add(1,"day").startOf("day");return i.start=o.toISOString(),i.start==i.end?this.generateItem(a):[].concat(this.generateItem(a)).concat(this.generateItem(i))}var l=s.format("YYYY-MM"),c=s.format("YYYY-MM-DD"),d=(s.format("DD"),s.format("D")),u=!0,h="",f=-1,p="",v=!1,m=this.findCorrespondance(e.label);this.hasValidationPeriod(l)&&(u=!1),m&&(h=m.code,f=m.wp_id,p=m.label,v=!0);var _="";return this.exists[l]&&this.exists[l].days[d].closed&&(_=this.exists[l].days[d].closedReason,v=!1),[{uid:e.uid,icsuid:e.icsuid,icsfileuid:e.icsfileuid,icsfilename:e.icsfilename,icsfiledateaddedd:e.icsfiledateaddedd,destinationLabel:p,destinationCode:h,destinationId:f,label:e.summary,summary:e.summary,importable:u,imported:v,warning:_,lastimport:!0,start:e.start,end:e.end,periodCode:l,dayCode:c,exception:e.exception?e.exception:null,description:void 0==e.description?null:e.description}]},findCorrespondance:function(e){var t=e.toLowerCase();if(!this.labelsCorrespondance.hasOwnProperty(t)){this.labelsCorrespondance[t]=null;for(var s=null,n=0;n<this.correspondances.length;n++){var a=this.correspondances[n];if(a.code&&(t.indexOf(a.code.toLowerCase())>-1||t.indexOf(a.label.toLowerCase())>-1))return s=a,this.labelsCorrespondance[t]=s,this.labelsCorrespondance[t];if(a.acronym&&t.indexOf(a.acronym.toLowerCase())>-1&&(s=a,t.indexOf(a.wp_code.toLowerCase())>-1))return this.labelsCorrespondance[t]=s,this.labelsCorrespondance[t]}this.labelsCorrespondance[t]=s}return this.labelsCorrespondance[t]},hasValidationPeriod:function(e){return!(!this.exists||!this.exists.hasOwnProperty(e))&&this.exists[e].hasValidation},repeat:function(e,t){var s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,n=[],a=this.moment;if(e.recursive=!0,"DAILY"==t.freq||"WEEKLY"==t.freq){var i=new Date(e.start),r=new Date(e.end),o=t.until?new Date(t.until):this.ending,l=t.interval||1,c="DAILY"==t.freq?1:7,d=t.count||null,u=t.byday||this.daysString;if(u instanceof String&&(u=[u]),d)for(var h=0;h<d;h++){var f=JSON.parse(JSON.stringify(e));f.start=a(i).toISOString(),f.end=a(r).toISOString(),f.recursive=!0,s.indexOf(i.toISOString())<0&&(n=n.concat(this.generateItem(f))),i.setDate(i.getDate()+l*c),r.setDate(r.getDate()+l*c)}else for(;i<o;){var p=this.daysString[i.getDay()];if("allday"==e.daily&&s.indexOf(a(i).format("YYYY-MM-DD")+"T00:00:00.000Z")>-1);else if(!(u.indexOf(p)<0||s.indexOf(i.toISOString())>-1)){var v=JSON.parse(JSON.stringify(e));v.start=a(i).format(),v.end=a(r).format(),v.recursive=!0,n=n.concat(this.generateItem(v))}i.setDate(i.getDate()+l*c),r.setDate(r.getDate()+l*c)}}else console.log("RECURENCE NON-TRAITEE",t);return 0==n.length?(console.log(" !!!!!!!!!!!!!!!! RIEN de CRÉÉ",e,t),console.log(" TO => ",new Date(t.until)),console.log(" TO => ",this.ending),console.log(" TO => ",o)):console.log(" ================ ",n.length," créé(s)"),n}}}},function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=new RegExp(/([0-9]*)-([0-9]*)/);t.default={model:{prop:"period",event:"change"},data:function(){return{selectedYear:null,selectedMonth:null,middleYearSelector:null,showYearSelector:!1,showMonthSelector:!1,showMonth:!1,showYear:!1,defileYear:null}},props:{value:{default:""},months:{default:function(){return["Janvier","Février","Mars","Avril","Mai","Juin","Juillet","Août","Septembre","Octobre","Novembre","Décembre"]}},period:{default:null,required:!0},max:{default:null},min:{default:null}},computed:{displayedMonth:function(){if(this.period){var e=this.period.match(n);3==e.length&&parseInt(e[2]);return 3==e.length?this.months[parseInt(e[2])-1]:"INVALID"}return"MOIS"},displayedYear:function(){if(this.period){var e=this.period.match(n);return 3==e.length?e[1]:"INVALID"}return"ANNÉE"},displayedValue:function(){if(this.period){var e=this.period.match(n);return 3==e.length?this.months[parseInt(e[2])-1]+" "+e[1]:"INVALID!"}return"Indéfini"},selectableYear:function(){var e=(new Date).getFullYear();return this.defileYear?e=this.defileYear:this.selectedYear&&(e=this.selectedYear),this.yearAround(e)},maxYear:function(){if(this.max){var e=this.max.match(n);if(3!=e.length)return Number.MAX_SAFE_INTEGER;var t=parseInt(e[1]);return 1==parseInt(e[2])&&(t-=1),t}return Number.MAX_SAFE_INTEGER},maxMonth:function(){if(this.max&&this.selectedYear==this.maxYear){var e=this.max.match(n),t=e[1];e[2];return this.maxYear+1==t?13:3==e.length?e[2]-2:13}return 13},minYear:function(){if(this.min){var e=this.min.match(n),t=parseInt(e[1]);return 12==parseInt(e[2])&&(t+=1),t}return Number.MIN_SAFE_INTEGER},minMonth:function(){if(this.min){var e=this.min.match(n),t=parseInt(e[1]),s=parseInt(e[2]);return this.selectedYear>t?-1:s}return-1},selectableMonths:function(){return this.months}},methods:{handlerMouseLeave:function(){this.hideSelector()},handlerToggleSelector:function(){this.showYear=!this.showYear,this.showMonth=!1},handlerSelectYear:function(e){this.selectedYear=e,this.showMonth=!0,this.showYear=!1},handlerSelectMonth:function(e){this.selectedMonth=e+1;var t=null;if(this.selectedMonth&&this.selectedYear){t=this.selectedYear+"-"+(this.selectedMonth<10?"0"+this.selectedMonth:this.selectedMonth)}this.hideSelector(),this.$emit("change",t)},hideSelector:function(){this.showYear=!1,this.showMonth=!1},cleanUp:function(){this.$emit("change","")},today:function(){var e=new Date;this.$emit("change",e.getFullYear()+"-"+e.getMonth())},setDefileYear:function(e){var t;1==e?(t=this.selectableYear[this.selectableYear.length-1],t+=this.selectableYear.length/2):(t=this.selectableYear[0],t-=this.selectableYear.length/2),this.defileYear=t},yearAround:function(e){for(var t=[],s=e-6;s<e+6;s++)t.push(s);return t}},mounted:function(){var e=this;window&&window.addEventListener("click",function(t){e.hideSelector()})}}},function(e,t,s){e.exports=s(4)},function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=s(1),a=s.n(n);for(var i in n)"default"!==i&&function(e){s.d(t,e,function(){return n[e]})}(i);var r=s(7),o=s(0),l=o(a.a,r.a,!1,null,null,null);t.default=l.exports},function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=s(2),a=s.n(n);for(var i in n)"default"!==i&&function(e){s.d(t,e,function(){return n[e]})}(i);var r=s(6),o=s(0),l=o(a.a,r.a,!1,null,null,null);t.default=l.exports},function(e,t,s){"use strict";var n=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("span",{staticClass:"period-selector",class:{open:e.showYear||e.showMonth},on:{mouseleave:e.handlerMouseLeave}},[s("span",{staticClass:"visualizer",on:{click:function(t){return t.preventDefault(),t.stopPropagation(),e.handlerToggleSelector(t)}}},[s("i",{staticClass:"icon-calendar"}),e._v(" "),s("span",[e._v("\n            "+e._s(e.displayedValue)+"\n        ")]),e._v(" "),s("i",{staticClass:"icon-angle-down"})]),e._v(" "),e.showYear?s("span",{staticClass:"selector selector-year"},[s("span",{staticClass:"scroll-left scroll",on:{click:function(t){t.preventDefault(),t.stopPropagation(),e.setDefileYear(-1)}}},[s("i",{staticClass:"icon-angle-left"})]),e._v(" "),s("span",{staticClass:"selector-content"},[e._l(e.selectableYear,function(t){return s("span",{class:{selected:t==e.selectedYear,disabled:t>e.maxYear||t<e.minYear},on:{click:function(s){s.preventDefault(),s.stopPropagation(),e.handlerSelectYear(t)}}},[e._v("\n                "+e._s(t)+"\n            ")])}),e._v(" "),s("nav",{staticClass:"selector-options"},[s("a",{staticClass:"selector-option",on:{click:e.cleanUp}},[e._v("Vider")]),e._v(" "),s("a",{staticClass:"selector-option",on:{click:e.today}},[e._v("Période en cours")])])],2),e._v(" "),s("span",{staticClass:"scroll-right scroll",on:{click:function(t){t.preventDefault(),t.stopPropagation(),e.setDefileYear(1)}}},[s("i",{staticClass:"icon-angle-right"})])]):e._e(),e._v(" "),e.showMonth?s("span",{staticClass:"selector selector-month"},[s("span",{staticClass:"selector-content"},[e._l(e.selectableMonths,function(t,n){return s("span",{class:{selected:n==e.selectedMonth-1,disabled:n>e.maxMonth||n<e.minMonth},on:{click:function(t){t.preventDefault(),t.stopPropagation(),e.handlerSelectMonth(n)}}},[e._v("\n                "+e._s(t)+"\n            ")])}),e._v(" "),s("nav",{staticClass:"selector-options"},[s("a",{staticClass:"selector-option",on:{click:e.cleanUp}},[e._v("Vider")]),e._v(" "),s("a",{staticClass:"selector-option",on:{click:e.today}},[e._v("Période en cours")])])],2)]):e._e()])},a=[],i={render:n,staticRenderFns:a};t.a=i},function(e,t,s){"use strict";var n=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("section",{staticClass:"oscar-ui import-ical"},[s("h1",[e._v("Imporation de calendrier")]),e._v(" "),e.debug?s("div",{staticClass:"overlay"},[s("div",{staticClass:"overlay-content"},[s("a",{attrs:{href:"#"},on:{click:function(t){e.debug=null}}},[e._v("CLOSE")]),e._v(" "),s("pre",[e._v(e._s(e.debug))])])]):e._e(),e._v(" "),e.editCorrespondance?s("div",{staticClass:"overlay"},[s("div",{staticClass:"overlay-content"},[s("i",{staticClass:"icon-cancel-outline overlay-closer",on:{click:function(t){e.editCorrespondance=null}}}),e._v(" "),s("h3",[s("i",{staticClass:"tag"}),e._v(" Correspondance pour les créneaux "),s("strong",[e._v(e._s(e.editCorrespondance))])]),e._v(" "),s("p",[e._v("Selectionnez une correspondance pour ce type de créneau : ")]),e._v(" "),s("section",{staticClass:"list"},[e._l(e.correspondances,function(t){return s("article",{staticClass:"correspondance-choose",class:{selected:e.labelsCorrespondance[e.editCorrespondance.toLowerCase()]==t},on:{click:function(s){e.handlerChangeCorrespondance(e.editCorrespondance,t)}}},[s("h3",[t.wp_code?s("i",{staticClass:"icon-cube"}):s("i",{staticClass:"icon-tag"}),e._v(" "),s("strong",[e._v(e._s(t.label))]),e._v(" "),s("small",[e._v(e._s(t.description))])])])}),e._v(" "),s("article",{staticClass:"correspondance-choose",class:{selected:null==e.labelsCorrespondance[e.editCorrespondance.toLowerCase()]},on:{click:function(t){e.handlerChangeCorrespondance(e.editCorrespondance,null)}}},[e._m(0),e._v(" "),e._m(1)])],2)])]):e._e(),e._v(" "),s("div",{staticClass:"row"},[s("div",{staticClass:"col-md-6"},[s("h3",[e._v("Critères d'importation")]),e._v(" "),s("div",[e._v("\n                Période de "),s("periodselector",{attrs:{period:e.periodStart,max:e.periodMax},on:{change:function(t){e.handlerPeriodChange(t)}}})],1)]),e._v(" "),s("div",{staticClass:"col-md-6"},[s("h3",[e._v("Fichier ICS (Format ICAL)")]),e._v(" "),s("input",{attrs:{type:"file"},on:{change:e.handlerFileSelected}})])]),e._v(" "),null==e.timesheets?s("div"):0==e.timesheets.length?s("div",[s("div",{staticClass:"alert alert-info"},[e._v("\n            Aucun créneau chargé depuis le fichier ICS\n        ")])]):s("div",{staticClass:"row"},[s("div",{staticClass:"col-md-8"},[e._m(2),e._v(" "),e._m(3),e._v(" "),s("table",{staticClass:"table table-condensed"},[e._m(4),e._v(" "),e._l(e.byPeriod,function(t){return s("tbody",{staticClass:"period"},[s("tr",{staticClass:"month-heading",class:{"deja-envoyee":e.exists[t.code]&&e.exists[t.code].hasValidation}},[s("th",{attrs:{colspan:"6"}},[s("i",{staticClass:"icon-calendar"}),e._v("\n                            "+e._s(t.label)+"\n                            "),s("a",{staticClass:"btn btn-xs btn-danger",attrs:{href:"#"},on:{click:function(s){s.preventDefault(),e.handlerRemovePeriod(t.code)}}},[s("i",{staticClass:"icon-trash"}),e._v("Retirer")]),e._v(" "),e.exists[t.code]&&e.exists[t.code].hasValidation?s("span",{staticClass:"message-erreur",attrs:{colspan:"4"}},[s("i",{staticClass:"icon-warning-empty"}),e._v(" "),s("strong",[e._v("Impossible d'envoyer ces créneaux")]),e._v(" Vous avez déjà soumis cette période à validation\n                            ")]):e._e()])]),e._v(" "),e._l(t.days,function(t){return s("tr",[s("th",[e._v(" \n\n                        ")]),e._v(" "),s("th",{staticClass:"jour",on:{click:function(s){if(!s.shiftKey)return null;e.debug=t}}},[e._v(e._s(t.label))]),e._v(" "),s("td",{staticClass:"jour-description"},e._l(t.timesheets,function(t){return s("div",{staticClass:"creneau",class:{ignored:!t.importable,imported:t.imported}},[t.warning?s("i",{staticClass:"icon-attention",attrs:{title:t.warning}}):e._e(),e._v(" "),t.importable?s("i",{staticClass:"icon-calendar"}):s("i",{staticClass:"icon-cancel-alt"}),e._v(" "),s("strong",[e._v(e._s(t.label)+" ("+e._s(e._f("itemDuration")(t))+" min)")]),e._v(" "),t.destinationLabel?s("span",{staticClass:"cartouche xs"},["wp"==t.destinationCode?s("i",{staticClass:"icon-cube"}):s("i",{staticClass:"icon-link-ext"}),e._v("\n                                    "+e._s(t.destinationLabel)+"\n                                ")]):e._e(),e._v(" "),s("nav",[s("i",{staticClass:"icon-trash",attrs:{title:"Supprimer ce créneau"},on:{click:function(s){e.handlerRemoveTimesheet(t)}}})]),e._v(" "),t.importable?t.imported?e._e():s("small",[e._v("Ce créneau sera ignoré")]):s("small",[s("i",{staticClass:"icon-cancel-circled"}),e._v("Ce créneau ne peut pas être importé.")])])})),e._v(" "),s("td",{staticClass:"jour-heures"},[s("strong",[e._v(e._s(e._f("displayMinutes")(t.totalImport)))])]),e._v(" "),s("td",{staticClass:"jour-heures"},[t.exists>0?s("em",[e._v(e._s(e._f("displayMinutes")(t.exists)))]):s("em",[e._v("~")])]),e._v(" "),s("td",{staticClass:"jour-heures",class:{excess:t.total>t.max}},[t.total>t.max?s("i",{staticClass:"icon-attention",attrs:{title:"Dépassement du temps autorisé"}}):e._e(),e._v("\n                            "+e._s(e._f("displayMinutes")(t.total))+"\n                        ")])])})],2)})],2)]),e._v(" "),s("div",{staticClass:"col-md-4"},[e._m(5),e._v(" "),e._m(6),e._v(" "),s("div",{staticClass:"input-group"},[e._m(7),e._v(" "),s("input",{directives:[{name:"model",rawName:"v-model",value:e.labelFilter,expression:"labelFilter"}],staticClass:"form-input form-control",attrs:{type:"text",placeholder:"Filter les intitulés..."},domProps:{value:e.labelFilter},on:{input:function(t){t.target.composing||(e.labelFilter=t.target.value)}}})]),e._v(" "),s("hr"),e._v(" "),e._l(e.labels,function(t){return s("div",{staticClass:"card xs correspondance",class:{match:e.labelsCorrespondance[t.toLowerCase()]}},[s("div",{staticClass:"in-ical"},[s("i",{staticClass:"icon-tag"}),e._v(" "),s("strong",[e._v(e._s(t))])]),e._v(" "),e.labelsCorrespondance[t.toLowerCase()]&&null!=e.labelsCorrespondance[t.toLowerCase()]?s("span",{staticClass:"cartouche card-info"},[s("i",{staticClass:"icon-link-outline"}),e._v("\n                    "+e._s(e.labelsCorrespondance[t.toLowerCase()].label)+"\n                ")]):e._e(),e._v(" "),s("nav",[s("a",{staticClass:"text-danger",attrs:{href:"#",title:"Retirer les créneaux"},on:{click:function(s){s.preventDefault(),e.handlerRemoveLabel(t)}}},[s("i",{staticClass:"icon-trash"})]),e._v(" "),s("a",{staticClass:"text-danger",attrs:{href:"#",title:"Modifier la correspondance"},on:{click:function(s){s.preventDefault(),e.handlerEditCorrespondance(t)}}},[s("i",{staticClass:"icon-edit"})])])])})],2)]),e._v(" "),e.sendData.length?s("form",{attrs:{action:"",method:"post"}},[s("input",{directives:[{name:"model",rawName:"v-model",value:JSON.stringify(e.sendData),expression:"JSON.stringify(sendData)"}],attrs:{type:"hidden",name:"timesheets"},domProps:{value:JSON.stringify(e.sendData)},on:{input:function(t){t.target.composing||e.$set(JSON,"stringify(sendData)",t.target.value)}}}),e._v(" "),s("button",{staticClass:"btn btn-xs btn-primary",attrs:{type:"submit"}},[e._v("Envoyer")])]):e._e()])},a=[function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("em",[s("i",{staticClass:"icon-cancel-circled"})])},function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("h3",[s("strong",[e._v("Ignorer ces créneaux")]),e._v(" "),s("small",[e._v("Ce type de créneau sera ignoré")])])},function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("h2",[s("i",{staticClass:"icon-pin"}),e._v("Créneaux trouvés")])},function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("p",{staticClass:"alert alert-info"},[s("i",{staticClass:"icon-info-circled"}),e._v("\n                Voici les créneaux trouvès dans le calendrier que vous avez chargé. Une fois les créneaux validés,\n                vous pourrez toujours les modifier ou les supprimer depuis l'interface de déclaration.\n            ")])},function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("thead",[s("tr",[s("th",[e._v(" ")]),e._v(" "),s("th",[e._v("Jours")]),e._v(" "),s("th",[e._v("Créneaux")]),e._v(" "),s("th",[e._v("Importables")]),e._v(" "),s("th",[e._v("Existant")]),e._v(" "),s("th",[e._v("TOTAL")])])])},function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("h2",[s("i",{staticClass:"icon-tags"}),e._v("\n                Intitulés et correspondance")])},function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"alert alert-info"},[s("p",[e._v("\n                    Vous trouverez ici les "),s("strong",[e._v("intitulés")]),e._v(" chargés depuis le calendrier.\n                ")]),e._v(" "),s("p")])},function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"input-group-addon"},[s("i",{staticClass:"icon-filter"})])}],i={render:n,staticRenderFns:a};t.a=i}])});
//# sourceMappingURL=ImportIcalUI.js.map