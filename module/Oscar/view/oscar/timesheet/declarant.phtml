<div class="flex-container">
    <div id="app"></div>
</div>
<link rel="stylesheet" href="/js/oscar/dist/timesheetmonth.css" type="text/css" />
<link rel="stylesheet" href="/js/oscar/dist/timesheetmonthday.css" type="text/css" />
<link rel="stylesheet" href="/js/oscar/dist/timesheetmonthdaydetails.css" type="text/css" />
<link rel="stylesheet" href="/js/oscar/dist/timesheetmonthworkpackageselector.css" type="text/css" />
<link rel="stylesheet" href="/js/oscar/dist/uitimechooser.css" type="text/css" />
<script>
    require(['vue', 'vue-resource', 'TimesheetMonth', 'mm', 'bootbox'], function(Vue, VueResource, TimesheetMonth, moment, bootbox){
        Vue.use(VueResource);


        let mode = "POURCENT";

        Vue.filter('duration2', function(duree, total){
            if( duree == 0 ) return 0.0;
            return Math.round( 100 / total * duree) + "%";
        });
        Vue.filter('duration', function(v){
            let h = Math.floor(v);
            let m = Math.round((v - h)*60);
            if( m < 10 ) m = '0'+m;
            return h +':' +m;
        });
        new Vue({
            render: function(h){
                return h(TimesheetMonth.default, {
                    props: {
                      defaultYear: <?= $year ?>,
                      defaultMonth: <?= $month ?>,
                      moment: moment,
                      bootbox: bootbox
                    }
                });
            }
        }).$mount('#app');
    })
</script>
