<?php

use UnicaenAuth\Provider\Privilege\Privileges;

/* @var $role UnicaenAuth\Entity\Db\Role */
/* @var $privilege UnicaenAuth\Entity\Db\Privilege */

$canEdit = $this->isAllowed('privilege/'.Privileges::DROIT_PRIVILEGE_EDITION);

if ($privilege->getRole()->contains($role)):
?>

    <?php if ($canEdit): ?><a href="javascript:void(0)" data-action="refuser" title="Privilège accordé. Cliquez pour le retirer."><?php endif; ?>
        <span class="glyphicon glyphicon-ok text-success"></span>
    <?php if ($canEdit): ?></a><?php endif; ?>

<?php else: ?>

    <?php if ($canEdit): ?><a href="javascript:void(0)" data-action="accorder" title="Privilège refusé. Cliquez pour l'accorder."><?php endif; ?>
        <span class="glyphicon glyphicon-remove text-danger refuse"></span>
    <?php if ($canEdit): ?></a><?php endif; ?>

<?php endif; ?>